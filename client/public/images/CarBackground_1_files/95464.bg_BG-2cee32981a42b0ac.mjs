"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[95464],{553046:(e,t,o)=>{var i,s,a,l,n,r;o.r(t),o.d(t,{default:()=>d});let c={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},n={alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},r={alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,n,r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"fa2a747f003a0b99e4125f5e9b4cdf0458131d673b4d0101e7549de623e26ec8",metadata:{},name:"FullPageSignupIconPinQuery",operationKind:"query",text:null}};c.hash="385a4e5628c9e46fc33db1060b27f046";let d=c;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(c.default||c)},199985:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(876594),s=o(144326),a=o(785893);function l({fillColor:e,size:t,noCircle:o}){let l=(0,s.ZP)();return(0,a.jsxs)("svg",{height:t,style:{display:"block"},viewBox:o?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,a.jsx)("title",{children:l.bt("Лого на Pinterest", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true)}),o?null:(0,a.jsx)("circle",{cx:"38",cy:"38",fill:e?"transparent":"white",r:"40"}),(0,a.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:e??i.x_d,fillRule:"evenodd"})]})}},345423:(e,t,o)=>{o.d(t,{w:()=>S,Z:()=>E});var i=o(883119),s=o(512095),a=o(293754),l=o(400416),n=o(144326),r=o(785893);function c({callBack:e,color:t,email:o,inline:s,overrideText:a}){let c=(0,n.ZP)(),d=a||c.bt("Нулиране на паролата", "Reset password", "Request a password reset email", undefined, true);return(0,r.jsx)(i.zx,{accessibilityLabel:d,color:t||"red",fullWidth:s,onClick:()=>{(0,l.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o}}).then(()=>e())},text:d})}var d=o(240760);function _({email:e,onClose:t,onPasswordResetSent:o,socialButtons:l}){let _=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:_.bt("Изглежда, че имате проблем с влизането", "Looks like you’re having trouble logging in", "Modal heading for user who have attempted to login three times", undefined, true),onDismiss:t,size:"sm",children:(0,r.jsx)(i.xu,{alignItems:"center","data-test-id":"touchableErrorMessage",display:"flex",justifyContent:"center",marginBottom:9,children:(0,r.jsxs)(i.kC,{alignItems:"center",direction:"column",width:290,children:[(0,r.jsx)(i.xu,{marginBottom:6,children:(0,r.jsx)(i.xv,{align:"center",children:(0,d.nk)(_.bt("Изпратихме имейл до {{ email }}, за да ви помогнем да влезете отново.", "We sent an email to {{ email }} to help you get back in.", " - ", undefined, true),{email:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:e},"emailAddress")})})}),(0,r.jsx)(i.xu,{marginBottom:8,width:"100%",children:(0,r.jsx)(c,{callBack:o,color:"red",email:e,inline:!0,overrideText:_.bt("Повторно изпращане на имейла", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,r.jsx)(i.xv,{children:_.bt("Или влезте с Facebook или Google", "Or log in with Facebook or Google", "Upsell to use Facebook or Google for login", undefined, true)}),(0,r.jsx)(i.xu,{marginBottom:12,marginTop:4,width:"100%",children:l}),(0,r.jsx)(i.xu,{marginBottom:12,width:"100%",children:(0,r.jsx)(s.Z,{onClick:t})})]})})})}var u=o(912560);function h({email:e,loginWith:t,onClose:o,onPasswordResetSent:l}){let d=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:d.bt("Опа! Нещо се обърка", "Oops! Something went wrong", "Modal heading", undefined, true),onDismiss:o,size:"md",children:(0,r.jsxs)(i.xu,{marginBottom:4,paddingX:6,children:[(0,r.jsx)(i.xu,{marginBottom:6,children:"facebook"===t?(0,r.jsx)(i.xv,{children:d.bt("Не успяхме да намерим връзка между вашия Facebook акаунт и който и да е Pinterest акаунт. Вместо това опитайте да нулирате вашата парола.", "We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)}):(0,r.jsx)(i.xv,{children:d.bt("Не успяхме да намерим връзка между вашия Google акаунт и който и да е Pinterest акаунт. Вместо това опитайте да нулирате вашата парола.", "We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)})}),(0,r.jsx)(c,{callBack:l,email:e,inline:!0}),(0,r.jsx)(i.xu,{marginTop:2,children:(0,r.jsx)(s.Z,{onClick:o})})]})})}var p=o(667294),g=o(476198),m=o(635258);function x({email:e,onClose:t}){let o=(0,n.ZP)(),[l,_]=(0,p.useState)(!1);return(0,r.jsxs)(p.Fragment,{children:[(0,r.jsx)(a.Z,{heading:o.bt("Изпратен имейл за промяна на парола", "Password reset email sent", "Modal label for confirmation of password reset send", undefined, true),onDismiss:t,children:(0,r.jsxs)(i.xu,{marginBottom:4,paddingX:6,children:[(0,r.jsx)(i.xv,{overflow:"normal",children:(0,d.nk)(o.bt("Изпратихме инструкции за избор на нова парола на {{ email }}.", "We sent instructions to pick a new password to {{ email }}.", "Statement that a password reset email has been sent to the user", undefined, true),{email:(0,r.jsx)(i.xv,{inline:!0,overflow:"normal",weight:"bold",children:e},"emailAddress")})}),(0,r.jsx)(i.xu,{paddingY:4,children:(0,r.jsx)(c,{callBack:()=>_(!l),color:"gray",email:e,inline:!0,overrideText:o.bt("Повторно изпращане на имейла", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,r.jsxs)(i.xu,{children:[(0,r.jsx)(i.xu,{marginBottom:4,children:(0,r.jsx)(i.xv,{children:(0,d.nk)(o.bt("Не сте получили имейла? Изпробвайте тези {{ tips }}", "Didn’t get the email? Try these {{ tips }}", "Direction to help center if the password reset email failed", undefined, true),{tips:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(i.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/trouble-pinterest-emails?source=account_recovery",onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:o.bt("съвети от нашия Помощен център", "tips from our Help Center", "Link text to go to help center", undefined, true)},"helpCenterLink")},"helpCenter")})})}),(0,r.jsx)(i.xu,{marginBottom:4,children:(0,r.jsx)(i.xv,{children:(0,d.nk)(o.bt("Това не е вашият имейл адрес? {{ tryAgain }}", "Not your email address? {{ tryAgain }}", "Link to password reset flow for users who make an incorrect password reset request", undefined, true),{tryAgain:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(i.rU,{display:"inlineBlock",href:m.lfe,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:o.bt("Опитайте с друг", "Try another", "Link text to enter the password reset flow for a different email address/username", undefined, true)},"passwordResetLink")},"tryAgain")})})})]}),(0,r.jsx)(i.xu,{children:(0,r.jsx)(s.Z,{color:"red",onClick:t})})]})}),l&&(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,r.jsx)(g.ZP,{duration:3500,onHide:()=>_(!l),text:o.bt("Писмото е изпратено!", "Email sent!", " - ", undefined, true)})})]})}function y({email:e,onClose:t,onPasswordResetSent:o,socialButtons:l}){let d=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:d.bt("Защитихме вашия акаунт", "We protected your account", "Modal heading for user who need to recover their accounts", undefined, true),onDismiss:t,size:480,children:(0,r.jsxs)(i.xu,{marginBottom:8,paddingX:12,children:[(0,r.jsx)(i.xu,{marginBottom:4,paddingX:4,children:(0,r.jsx)(i.xv,{align:"center",children:d.bt("За целите на сигурността нулирахме паролата за акаунта ви в Pinterest и ви изведохме от системата от всички устройства и браузъри.", "For security purposes we've reset your Pinterest account password and logged you out on all devices and browsers.", "softBannedAccountModal.modal.description", undefined, true)})}),(0,r.jsx)(i.xu,{marginBottom:4,paddingX:4,children:(0,r.jsx)(i.xv,{align:"center",children:d.bt("Нулирайте паролата си или влезте с Facebook или Google, за да се върнете в профила.", "Reset your password or log in with Facebook or Google to get back into your account.", "Prompt to take action to reset password or upsell login with Facebook/Google", undefined, true)})}),(0,r.jsxs)(i.xu,{paddingX:12,children:[(0,r.jsx)(i.xu,{paddingY:2,children:(0,r.jsx)(c,{callBack:o,email:e,inline:!0})}),l,(0,r.jsx)(i.xu,{marginTop:4,children:(0,r.jsx)(s.Z,{onClick:t})})]})]})})}var f=o(378690),b=o(670618),w=o(57814),P=o(267005),v=o(76367),k=o(297728),A=o(343544);let S={[P.OW]:v.Ny.RATE_LIMITED,[P.bd]:v.Ny.RATE_LIMITED,[P.$j]:v.Ny.SOFT_BANNED,[P.an]:v.Ny.SUSPENDED,[P.RL]:v.Ny.LOGIN_ASSISTANCE,[P.yV]:v.Ny.SOFT_BANNED,[A.Ej]:v.Ny.RATE_LIMITED},z=({onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:o,updateAccountRecoveryModal:s,checkExperiment:a})=>(0,r.jsxs)(i.xu,{children:[!a("dweb_unauth_remove_fb_signup_iteration").anyEnabled&&(0,r.jsx)(b.Z,{container:"account_recovery",disablePostSignupNextUrl:!0,onLoginWithMfa:e,onLoginWithSuspended:t,showFallback:!0,showLoginRateLimited:()=>s(v.Ny.RATE_LIMITED),socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>s(v.Ny.PREVENT_FACEBOOK_REGISTER)}}),(0,r.jsx)(i.xu,{marginTop:2,children:(0,r.jsx)(w.Z,{container:"account_recovery",onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:e=>{s(null),o?.(e)},showLoginRateLimited:()=>s(v.Ny.RATE_LIMITED),socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>s(v.Ny.PREVENT_GOOGLE_REGISTER)}})})]});function E({email:e,modalType:t,onLoginWithMfa:o,onLoginWithSuspended:i,onLoginWithVoluntarilyDeactivated:s,updateAccountRecoveryModal:a}){let l=()=>a(null),n=()=>a(v.Ny.PASSWORD_RESET_SENT),{checkExperiment:c}=(0,k.F)(),d=(0,r.jsx)(z,{checkExperiment:c,onLoginWithMfa:o,onLoginWithSuspended:i,onLoginWithVoluntarilyDeactivated:s,updateAccountRecoveryModal:a});switch(t){case v.Ny.SUSPENDED:return(0,r.jsx)(f.Z,{onClose:l});case v.Ny.LOGIN_ASSISTANCE:return(0,r.jsx)(_,{email:e,onClose:l,onPasswordResetSent:n,socialButtons:d});case v.Ny.RATE_LIMITED:return(0,r.jsx)(u.Z,{onClose:l});case v.Ny.SOFT_BANNED:return(0,r.jsx)(y,{email:e,onClose:l,onPasswordResetSent:n,socialButtons:d});case v.Ny.PREVENT_FACEBOOK_REGISTER:case v.Ny.PREVENT_GOOGLE_REGISTER:return(0,r.jsx)(h,{email:e,loginWith:t===v.Ny.PREVENT_FACEBOOK_REGISTER?"facebook":"google",onClose:l,onPasswordResetSent:n});case v.Ny.PASSWORD_RESET_SENT:return(0,r.jsx)(x,{email:e,onClose:l});default:return null}}},512095:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(883119),s=o(144326),a=o(785893);function l({color:e,onClick:t,overrideText:o}){let l=(0,s.ZP)(),n=o||l.bt("Разбрах", "Got it", "Acknowledge protected account modal message", undefined, true);return(0,a.jsx)(i.zx,{accessibilityLabel:n,color:e||"gray",fullWidth:!0,onClick:t,text:n})}},293754:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(667294),s=o(883119),a=o(333561),l=o(635284),n=o(272109),r=o(785893);function c({children:e,headingNode:t,heading:o,onDismiss:c,size:d}){return(0,i.useEffect)(()=>(l.Z.pause(),function(){l.Z.resume()}),[]),(0,r.jsx)(s.mh,{zIndex:a.C,children:(0,r.jsx)(n.Z,{allowEsc:!0,children:(0,r.jsx)(s.u_,{accessibilityModalLabel:o,heading:t||o,onDismiss:()=>{l.Z.resume(),c()},padding:"none",role:"alertdialog",size:d||"md",children:e})})})}},912560:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),s=o(293754),a=o(144326),l=o(785893);function n({onClose:e}){let t=(0,a.ZP)();return(0,l.jsxs)(s.Z,{heading:t.bt("Грешка! Твърде много опити за влизане", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true),headingNode:(0,l.jsxs)(i.xu,{children:[(0,l.jsx)(i.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,l.jsx)(i.JO,{accessibilityLabel:t.bt("Лого на Pinterest", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"brandPrimary",icon:"pinterest",size:40})}),(0,l.jsx)(i.X6,{accessibilityLevel:1,align:"center",size:"500",children:t.bt("Грешка! Твърде много опити за влизане", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true)})]}),onDismiss:e,size:"sm",children:[(0,l.jsx)(i.xu,{marginBottom:12,marginTop:4,paddingX:12,children:(0,l.jsx)(i.xv,{align:"center",children:t.bt("Достигнахте максималния брой опити за влизане. Опитайте отново след 30 минути.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,l.jsx)(i.xu,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:12,children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:e,text:t.bt("Добре", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true)})})]})}},378690:(e,t,o)=>{o.d(t,{Z:()=>_});var i=o(667294),s=o(883119),a=o(512095),l=o(293754),n=o(203797),r=o(144326),c=o(240760),d=o(785893);function _({onClose:e}){let t=(0,r.ZP)(),o=t.bt("Често срещани причини за деактивиране на профила са:", "Common reasons for account deactivation include:", " - ", undefined, true),_=t.bt("{{ help_link }}, ако имате въпроси или искате да активирате отново акаунта си.", "{{ help_link }} if you have questions or would like to reactivate your account.", " - ", undefined, true),u=[t.bt("Нарушение на Насоките на общността на Pinterest.", "Violating Pinterest Community Guidelines.", "One example reason for account deactivation", undefined, true),t.bt("Забелязахме необичайна активност в акаунта ви.", "We noticed unusual activity on your account.", "One example reason for account deactivation", undefined, true),t.bt("Поискахте закриване на акаунта.", "You requested an account closure.", "One example reason for account deactivation", undefined, true)];return(0,d.jsx)(l.Z,{heading:t.bt("Вашият акаунт е деактивиран", "Your account has been deactivated", "Modal heading for user who have attempted to login with a deactivated account", undefined, true),onDismiss:e,size:"md",children:(0,d.jsxs)(s.xu,{marginBottom:4,paddingX:6,children:[(0,d.jsxs)(s.xu,{marginBottom:4,children:[(0,d.jsxs)(s.xv,{children:[" ",o," "]}),(0,d.jsx)(s.xu,{paddingY:2,children:(0,d.jsx)(i.Fragment,{children:u.map(e=>(0,d.jsx)(s.xv,{children:"• "+e},`reasons-${e}`))})}),(0,d.jsx)(s.xv,{inline:!0,children:(0,c.nk)(_,{help_link:(0,d.jsx)(n.q,{},"suspended user help_link")})})]}),(0,d.jsx)(s.xu,{marginTop:4,children:(0,d.jsx)(a.Z,{color:"red",onClick:e,overrideText:t.bt("Разбрах", "Got it", "Acknowledge suspended account modal message", undefined, true)})})]})})}},203797:(e,t,o)=>{o.d(t,{q:()=>l});var i=o(883119),s=o(144326),a=o(785893);let l=()=>{let e=(0,s.ZP)();return(0,a.jsx)(i.rU,{display:"inlineBlock",href:"https://help.pinterest.com/en/contact?current_page=about_you_page&appeals=account_suspension",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"auto",children:e.bt("Връзка с нас", "Contact us", "link text shown to redirect to help.pinterest.com for appealing a suspension", undefined, true)})}},671808:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(144326),s=o(785893);function a(){let e=(0,i.ZP)();return(0,s.jsx)("p",{style:{marginBottom:"8px",marginTop:"8px",overflow:"hidden",textAlign:"center",fontSize:"14px",color:"#333",fontWeight:"bold"},children:e.bt("ИЛИ", "OR", " - ", undefined, true)})}},670618:(e,t,o)=>{o.d(t,{Z:()=>F});var i=o(667294),s=o(883119),a=o(644845),l=o(28352),n=o(337584),r=o(107866);let c=()=>o.e(51798).then(o.bind(o,678278)),d=({onError:e,onEventReceived:t,onSuccess:o,rerequestFacebookEmail:i,viewer:s})=>{let a=null,l=i=>{let s=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(i.origin!==s||"social-connect-complete"!==i.data.type&&"social-connect-error"!==i.data.type)return;let l=i.data;"facebook"===l.network&&(t(),a&&clearInterval(a),"social-connect-error"===l.type?e("OTHER_ERROR"):o({type:"PROFILE",profile:l.profile}))};if(window.addEventListener("message",l),i)c().then(({default:t})=>{t(t=>{t?.login(t=>{"connected"===t.status&&(t.authResponse.grantedScopes?.split(",")||[]).includes("email")?o({type:"ACCESS_TOKEN",id:t.authResponse.userID,access_token:t.authResponse.accessToken}):e("OTHER_ERROR")},{scope:"email",auth_type:"rerequest",return_scopes:!0})},s)});else{let t=(0,r.Z)(),o=window.open("/connect/facebook/","",t);o?a=setInterval(()=>{o.closed&&(a&&clearInterval(a),e("OTHER_ERROR"))},1e3):e("POPUP_DISABLED")}return{unsubscribe:()=>{window.removeEventListener("message",l)}}};var _=o(806369),u=o(785893);function h(e){let[t,o]=(0,i.useState)(!1);return!t&&e.message?(0,u.jsx)(s.J2,{anchor:e.anchor,color:"darkGray",idealDirection:"right",onDismiss:()=>o(!0),shouldFocus:!1,size:"md",children:(0,u.jsx)(s.xu,{padding:3,children:(0,u.jsx)(s.xv,{color:"light",overflow:"noWrap",size:"200",weight:"bold",children:e.message})})}):null}var p=o(899153),g=o(214694),m=o(395225),x=o(35652),y=o(993640),f=o(194093),b=o(144326),w=o(654381),P=o(267005),v=o(369081),k=o(588172),A=o(685667),S=o(76367),z=o(844543),E=o(765963),j=o(297728),C=o(730212),T=o(1006),L=o(154785),Z=o(896612),I=o(383399),R=o(356801);function M(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let B=e=>"PROFILE"===e.type?{facebook_id:e.profile.id}:{facebook_id:e.id,facebook_token:e.access_token};class O extends i.Component{constructor(...e){super(...e),M(this,"state",{showModal:!1}),M(this,"unsubscribeThisButton",null),M(this,"loginWithFacebook",({facebookConnectData:e,isFromStatusChange:t,isAccountSwitch:o,handlePostSuccessConnect:i,loadingIndicatorCallback:s})=>{let{checkExperiment:a,container:l,desktopCoreLoginContext:{getDeviceAppTypeString:r},i18n:c,login:d,disableFBSignup:_,nextUrlParam:u,onLoginWithMfa:h,onLoginWithSuspended:p,pageContext:m,showResponseMessageModal:x,showLoginRateLimited:y,socialSignupCallbacks:b}=this.props,v={container:l,page:m?.pageType},k=B(e);d({creds:k,loggingOptions:{loggingData:v,loginAttemptContextEvent:this.signupLoginContextEvent(7534)},isAccountSwitch:o}).then(e=>{let t=e?.resource_response.data?.user;if(o&&t&&(0,w.Z)(t,"facebook",l),(0,T.My)("login.facebook."+r()),x)x(!0);else{let e=!u&&a("dweb_auth_arr_full_upsell_after_login").anyEnabled?"?from_login=true":u;a("dweb_arr_modal_post_fb_login").anyEnabled&&(0,R.I9)(),S.ZP.handleRedirect(e||S.ZP.defaultSocialLoginRedirectUrl())}i?.(),a("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,g.Z)()},o=>{let i=(0,f.Z)(o,"api_error_code");i===P.Zn?(s?.(!1),(0,T.My)("login.facebook."+r()),h?.(k,{phoneNumberEnd:o.data?.phone_number_end})):i===P.xN||i===P.lg?a("dweb_unauth_remove_fb_signup_iteration").anyEnabled?_?.():"ACCOUNT_RECOVERY"===b.type?b.switchToAccountRecoverySignupFlow("facebook"):this.registerWithFacebook({facebookConnectData:e,loggingData:v,isFromStatusChange:t,switchToSocialSignupWithAgeFlow:b.switchToSocialSignupWithAgeFlow}):P.ik.includes(i??0)?y?.():i===P.iU?(0,n.x)((0,f.Z)(o,"message")||""):(i&&(0,T.My)(`facebook_button.failed_login_${i}`),i===P.an&&p?p():(0,n.x)(c.bt("За съжаление, не можете да влезете.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true)))})}),M(this,"statusChangeCallback",e=>{let t;this.props.onClick?.();let{connectErrorMessage:o,handlePostSuccessConnect:i,isAccountSwitch:s,loadingIndicatorCallback:a}=this.props;if((0,T.EX)({event:"start",provider:"facebook"}),"connected"===e.status){let{authResponse:o}=e;(0,T.My)("web.facebook_connect_button.login_status.connected"),a?.(!0),this.loginWithFacebook({facebookConnectData:{type:"ACCESS_TOKEN",id:o.userID,access_token:o.accessToken},isFromStatusChange:!0,isAccountSwitch:s,handlePostSuccessConnect:i,loadingIndicatorCallback:a}),t="success"}else"not_authorized"===e.status?((0,T.My)("web.facebook_connect_button.cancel.not_authorized"),(0,n.x)(o),t="not_authorized"):((0,T.My)("web.facebook_connect_button.cancel.unknown"),(0,n.x)(o),t="other_error");let{handlePostConnectClick:l}=this.props;l?.(t)}),M(this,"showDefaultError",()=>{let{i18n:e,loadingIndicatorCallback:t}=this.props;t?.(!1),(0,n.x)(e.bt("Нещо се обърка. Опитайте отново по-късно.", "Something went wrong. Please try again later.", "facebookConnectButton.defaultError", undefined, true))}),M(this,"registerWithFacebook",async({facebookConnectData:e,loggingData:t,isFromStatusChange:o,switchToSocialSignupWithAgeFlow:i})=>{(0,T.Rp)({event:"start",provider:"facebook"});let{desktopCoreLoginContext:{register:s},disablePostSignupNextUrl:l,loadingIndicatorCallback:n,nextUrlParam:r,onFBMissingEmail:c,onFBPhoneOnlyConnectVerified:d,showResponseMessageModal:u,showSignupWelcomeLoadingFn:h}=this.props,p=()=>{this.showDefaultError(),o||(this.rerequestFacebookEmail=!0)},g=null;if("PROFILE"===e.type)g={...e.profile};else try{g=await (0,v.MI)(e.access_token)}catch(e){p()}if(!g)return;let m=(0,_.Z)(g),x={type:"facebook",context:t,signupOptions:m};if(!g.email){d?(o||n?.(!1),d(x)):o&&c?c(x):p();return}let y={birthday_source_site:z.E_.FACEBOOK,email_source_site:z.E_.FACEBOOK};if(!o){i(x);return}let{birthday:f}=m;if(void 0===f||!(0,a.Z)(f)){n?.(!1),i({...x,signupOptions:{...x.signupOptions,email_source_site:z.E_.FACEBOOK}});return}u||h?.(!0),(0,T.Rp)({event:"signup_api_call_start",provider:"facebook"});try{await s({...m,...y,birthday:f},{signupContext:t,signupAttemptContextEvent:this.signupLoginContextEvent(7537)}),(0,T.Rp)({event:"signup_api_call_success",provider:"facebook"})}catch(e){(0,T.Rp)({event:"signup_api_call_failure",provider:"facebook"}),p()}u?u(!0):S.ZP.handleSignupRedirect(o?r:r||window.location.pathname,l)})}componentDidMount(){if(this.props.webFacebookDisabled)return;"undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=()=>this.checkLoginState(),window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1);let{requestContext:{userAgent:{platform:e}}}=this.props;if(["ios","ipad"].includes(e)){if(window.fb_init!==k.Z.STARTED&&window.fb_init!==k.Z.FINISHED)this.initializeFB();else if(window.fb_init===k.Z.FINISHED&&window.FB.XFBML)window.FB.XFBML.parse();else{let e=setInterval(()=>{window.fb_init===k.Z.FINISHED&&window.FB.XFBML&&(window.FB.XFBML.parse(),clearInterval(e))},100)}}else setTimeout(()=>{window.__branchRedirectToStore||!window.__branchPinterestStarted?this.initializeFB():window.onbeforeunload=()=>{window.__branchRedirectToStore&&this.initializeFB()}},50);this.props.isRerequest&&(this.props.loadingIndicatorCallback?.(!1),this.props.showSignupWelcomeLoadingFn?.(!1)),(0,T.My)("pcons.dweb.facebook_connect_button_rendered")}componentDidUpdate(){window.nextUrlParam=this.props.nextUrlParam}componentWillUnmount(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){let e=window.fbConnectButtonContainerStack.indexOf(this.props.container);e>=0&&window.fbConnectButtonContainerStack.splice(e,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam)}}initializeFB(){let{requestContext:{locale:e}}=this.props;null!==this.profilePicButton&&(void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():(window.fbAsyncInit=()=>(0,v.sl)(),((t,o)=>{let i="script",s=t.getElementsByTagName(i)[0];if(t.getElementById(o))return;let a=t.createElement(i);a.id=o,a.src=(0,A.Z)(e),s&&s.parentNode&&s.parentNode.insertBefore(a,s)})(document,"facebook-jssdk")))}checkLoginState(){window.FB.getLoginStatus(e=>{this.statusChangeCallback&&this.statusChangeCallback(e)})}signupLoginContextEvent(e){let{desktopCoreLoginContext:{viewer:t}}=this.props;return{event_type:e,aux_data:{...(0,x.Z)(t.type),signup_login_method:E.Z.FACEBOOK}}}renderProfilePicButtonWithFallback(){let{i18n:e,isRerequest:t,showFallback:o,container:i,checkExperiment:a}=this.props,l=a("dweb_unauth_turn_on_personalized_fb_button").anyEnabled?"true":void 0;return(0,u.jsxs)(s.xu,{ref:e=>{this._fallbackButton=e},"data-test-id":"facebook-connect-button",children:[(0,u.jsx)(s.iP,{onTap:()=>{let{connectErrorMessage:e,desktopCoreLoginContext:{getDeviceAppTypeString:t},i18n:o,webFacebookDisabled:i,viewer:s,trackInteraction:a,trackConversionUpsell:l}=this.props;if(i){this.setState({showModal:!0});return}a({action:"click",item:"facebook-connect-button"}),(0,T.NC)("press_facebook_login_fallback"),(0,T.My)(`unauth_web.social_connect.facebook.${t()}`),(0,T.EX)({event:"start",provider:"facebook"}),l({eventType:14689,element:13505}),this.unsubscribeThisButton?.();let{unsubscribe:r}=d({onSuccess:e=>{(0,T.My)("unauth_web.facebook_connect.manual.success"),this.loginWithFacebook({facebookConnectData:e,isFromStatusChange:!1})},onError:t=>{(0,T.My)("unauth_web.facebook_connect.manual.failure"),(0,n.x)("POPUP_DISABLED"===t?o.bt("Трябва да разрешите изскачащи прозорци!", "You must enable popups!", " - ", undefined, true):e)},onEventReceived:()=>{this.unsubscribeThisButton?.()},rerequestFacebookEmail:this.rerequestFacebookEmail,viewer:s});this.unsubscribeThisButton=()=>{r(),this.unsubscribeThisButton=null}},children:(0,u.jsx)(s.xu,{alignItems:"center",color:"infoBase",dangerouslySetInlineStyle:{__style:{padding:"0px 0px 0px 8px"}},display:"flex",height:40,justifyContent:"revamped_business_login_page"===i?"center":"start",marginTop:0,position:o?"relative":"absolute",rounding:5,width:"100%",children:(0,u.jsxs)(s.kC,{alignItems:"center",justifyContent:"revamped_business_login_page"===i?"center":"start",children:[(0,u.jsx)(s.xu,{"aria-hidden":!0,color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:5}},height:24,marginStart:1,paddingX:1,rounding:"circle",width:24,children:(0,u.jsx)(s.JO,{accessibilityLabel:"",color:"info",icon:"facebook",inline:!0,size:19})}),(0,u.jsx)(s.xu,{display:"inlineBlock",margin:6,marginStart:2,paddingY:1,width:"revamped_business_login_page"===i?void 0:"88%",children:(0,u.jsx)(s.xv,{color:"light",size:"300",weight:"bold",children:e.bt("Продължаване с Facebook", "Continue with Facebook", " - ", undefined, true)})})]})})}),!o&&(0,u.jsx)(s.xu,{ref:e=>{this.profilePicButton=e},dangerouslySetInlineStyle:{__style:{textAlign:"revamped_business_login_page"===i?"center":"left"}},height:40,children:(0,u.jsx)("div",{className:"fb-login-button","data-auth-type":t?"rerequest":void 0,"data-button-type":"continue_with","data-layout":"rounded","data-onlogin":"checkLoginState","data-scope":(0,v._V)().join(","),"data-size":"large","data-use-continue-as":l,"data-width":"268px"})})]})}render(){let{tooltip:e}=this.props;return(0,u.jsxs)(s.xu,{position:"relative",children:[this.renderProfilePicButtonWithFallback(),(0,u.jsx)(h,{anchor:this._fallbackButton??null,message:e??null}),this.state.showModal&&(0,u.jsx)(p.Z,{onDismiss:()=>this.setState({showModal:!1}),type:"facebook"})]})}}function F(e){let t=(0,b.ZP)(),o=(0,C.B)(),i=(0,l.B$)(),s=(0,y.lO)(),{checkExperiment:a}=(0,j.F)(),n=(0,I.Z)(),r=(0,L.Z)(),{trackConversionUpsell:c}=(0,Z.Z)(),{anyEnabled:d}=a("web_facebook_disabled");return(0,u.jsx)(O,{...e,checkExperiment:a,connectErrorMessage:t.bt("Неуспешно свързване. Трябва да оторизирате Pinterest.", "Couldn't connect. You must authorize Pinterest.", " - ", undefined, true),desktopCoreLoginContext:i,i18n:t,login:(0,m.Z)(),pageContext:s,requestContext:o,trackConversionUpsell:c,trackInteraction:r,viewer:n,webFacebookDisabled:d})}},281229:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(667294),s=o(883119),a=o(573706),l=o(369081),n=o(730212),r=o(410150),c=o(144326),d=o(635258),_=o(1006),u=o(969119),h=o(785893);let p={textAlign:"start"},g=({facebookLoginDynamicBannerExpGroup:e,authOption:t,i18n:o,isRetrievingLoginData:i})=>{let a=o.bt("Влизането във Facebook вече не е налично. Влизане с опция по-долу или ", "Facebook login is no longer available. Login with an option below or ", "facebook_recover_account_banner.text_1", undefined, true),l=o.bt("докоснете, за да възстановите акаунта си", "tap to recover your account", "facebook_recover_account_banner.text_2", undefined, true);if("enabled"===e){if(i)return(0,h.jsx)(s.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:10,width:"100%",children:(0,h.jsx)(s.$j,{color:"subtle",show:!0,size:"sm"})});i||("google"===t?a=o.bt("Влизането с Facebook вече не е налично. Влезте с Google или ", "Facebook login is no longer available. Log in with Google or ", "facebook_recover_account_banner_google.text", undefined, true):"email"===t?a=o.bt("Влизането с Facebook вече не е налично. Влезте с имейл или ", "Facebook login is no longer available. Log in with email or ", "facebook_recover_account_banner_email.text", undefined, true):"fbOnly"===t&&(a=o.bt("Влизането с Facebook вече не е налично. ", "Facebook login is no longer available. ", "facebook_recover_account_banner_facebook.text_1", undefined, true),l=o.bt("Докоснете тук, за да влезете обратно в акаунта си", "Tap to get back into your account", "facebook_recover_account_banner_facebook.text_2", undefined, true)))}return(0,h.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:p},children:[(0,h.jsx)(s.xv,{inline:!0,children:a}),(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:l})]})};function m({facebookLoginDynamicBannerExpGroup:e}){let t=(0,c.ZP)(),o=(0,r.HG)(),{isRetrievingLoginData:p,isGoogleConnected:m,hasPassword:x,isFBAuthOnly:y}=function({disableFetch:e=!1}){let{locale:t}=(0,n.B)(),o=(0,r.HG)(),[s,a]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[_,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let i=async()=>{let e=await (0,l.fi)(t,o);e?(a(e.isGoogleConnected),d(e.hasPassword),u(e.isFBAuthOnly)):p(!0),m(!1)};e?m(!1):i()},[t,o,e]),h||e?{isRetrievingLoginData:g}:{isGoogleConnected:s,hasPassword:c,isFBAuthOnly:_,isRetrievingLoginData:g}}({disableFetch:!e||"control"===e}),{logContextEvent:f}=(0,a.v)(),[b,w]=(0,i.useState)("default"),P=o?"dweb":"mweb";return(0,u.Z)(()=>{f({event_type:15393,element:10881})}),(0,i.useEffect)(()=>{if(!p&&e){let t="default";"enabled"===e&&(m?t="google":x?t="email":y&&(t="fbOnly")),w(t),(0,_.My)(`${P}.fb_recover_account_banner.${t}.view`)}},[p,P,m,x,e,y]),(0,h.jsx)(s.xu,{marginTop:o?4:void 0,padding:o?4:void 0,children:(0,h.jsx)(s.Tg,{href:`${d.lfe}?lookup=true`,onTap:({dangerouslyDisableOnNavigation:t})=>{e&&(0,_.My)(`${P}.fb_recover_account_banner.${b}.click`),o&&t(),f({event_type:15392,element:10881})},children:(0,h.jsxs)(s.xu,{alignItems:"center",color:"infoWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:4,children:[(0,h.jsx)(s.xu,{marginEnd:4,children:(0,h.jsx)(s.JO,{accessibilityLabel:t.bt("икона за информация на банера за възстановяване на акаунт във Facebook", "info icon on the facebook recover account banner", "facebook_recover_account_banner.icon", undefined, true),color:"info",icon:"info-circle",size:20})}),g({facebookLoginDynamicBannerExpGroup:e,authOption:b,i18n:t,isRetrievingLoginData:p})]})})})}},902614:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(883119),s=o(144326),a=o(297728),l=o(410150),n=o(785893);function r(){let e=(0,s.ZP)(),t=(0,l.HG)(),{checkExperiment:o}=(0,a.F)(),r=o(t?"dweb_unauth_remove_fb_signup_iteration":"mweb_unauth_remove_fb_signup_iteration").group;return(0,n.jsx)(i.xu,{marginTop:t?4:void 0,padding:t?4:void 0,children:(0,n.jsxs)(i.xu,{alignItems:"center",color:"errorWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:t?4:void 0,children:[(0,n.jsx)(i.xu,{marginEnd:4,children:(0,n.jsx)(i.JO,{accessibilityLabel:e.bt("грешка при регистрацията във Facebook", "error in Facebook signup", "facebook_signup_error_banner.icon", undefined, true),color:"default",icon:"workflow-status-problem",size:20})}),(0,n.jsx)(i.xu,{children:(0,n.jsx)(i.xv,{children:r.startsWith("enabled_old_copy")?e.bt("Не можем да се свържем с вашия акаунт във Facebook. Опитайте с друг метод", "We can't connect to your Facebook account. Try another method", "facebook_signup_error_banner.copy_1", undefined, true):e.bt("Влизането във Facebook не е налично за нови потребители. Продължаване с имейл или Google:", "Facebook login isn't available for new users. Continue with email or Google:", "facebook_signup_error_banner.copy_2", undefined, true)})})]})})}},804765:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ta});var i,s=o(667294),a=o(616550),l=o(883119),n=o(449112),r=o(488792),c=o(746613),d=o(771385),_=o(914896),u=o(790014),h=o(705492),p=o(28352),g=o(785893);let m=({margin:e,wideLight:t})=>(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:`${t?"#efefef":"#dedede"} 1px solid`,margin:e??"10px auto"}},width:t?404:110});var x=o(35652),y=o(144326),f=o(730212),b=o(635258),w=o(154785),P=o(896612),v=o(566344);function k({type:e}){let{viewer:t}=(0,p.B$)(),o=(0,y.ZP)(),i=(0,r.Z)(),s=`${v.C0}${b.Hm8}`,{trackConversionUpsell:a}=(0,P.Z)(),n=(0,w.Z)();return(0,g.jsxs)(l.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",marginStart:"auto",marginTop:2,children:[(0,g.jsx)(l.xv,{size:"100",weight:"normal",children:o.bt("Бизнес ли сте?", "Are you a business?", "Prompt for business signup", undefined, true)}),(0,g.jsx)(l.xu,{"data-test-id":"business-start",marginStart:1,children:(0,g.jsx)(l.rU,{href:s,onClick:()=>{n({action:"click",item:"business-start"}),i({event_type:101,component:"signupToLogin"===e?13096:13867,element:10281,aux_data:(0,x.Z)(t.type)}),a({element:10281,eventType:14689})},target:"blank",underline:"none",children:(0,g.jsx)(l.xv,{size:"100",weight:"bold",children:o.bt("Започнете тук!", "Get started here!", "Prompt for signing up", undefined, true)})})})]})}let A=({children:e,layout:t})=>{let{isRTL:o}=(0,f.B)();switch(t){case"SIGNUP_LARGE":return(0,g.jsx)(l.xu,{children:(0,g.jsx)(l.xu,{marginTop:4,children:e})});case"SIGNUP_SMALL":return(0,g.jsx)(l.xu,{marginTop:3,children:e});case"SIGNUP_WITH_AGE":return(0,g.jsx)(l.xu,{margin:-4,children:(0,g.jsx)(l.xu,{"data-test-id":"login-button",padding:3,children:e})});case"LOGIN_INLINE":return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(m,{}),(0,g.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:e})]});case"LOGIN_SMALL":return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(m,{}),e]});case"SIGNUP_DEFAULT":case"LOGIN_DEFAULT":return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(m,{margin:"SIGNUP_DEFAULT"===t?o&&"20px -68px 15px 0px"||"20px 0px 15px -68px":o&&"20px 30px 15px -10px"||"20px -10px 15px -68px",wideLight:!0}),(0,g.jsx)(l.xu,{children:e})]});default:return e}};function S({layout:e,onClick:t,shouldHideBusinessCreateFooterLink:o,type:i}){let s=(0,y.ZP)(),a=(0,w.Z)();return(0,g.jsxs)(A,{layout:e,children:[(0,g.jsx)(l.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",children:(0,g.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"center",children:["signupToLogin"===i&&(0,g.jsx)(l.xv,{size:"100",children:s.bt("Вече сте член?", "Already a member?", "modernized.nux.footer.text", undefined, true)}),(0,g.jsx)(l.xu,{marginStart:1,children:(0,g.jsx)(l.iP,{dataTestId:"login-signup-toggle",onTap:e=>{a({action:"click",item:"email-signup-button"}),t(e.event)},children:(0,g.jsx)(l.xv,{color:"default",size:"100",weight:"bold",children:"signupToLogin"===i&&s.bt("Влизане", "Log in", "modernize.nux.switch.to.login.modal", undefined, true)||s.bt("Все още не сте в Pinterest? Регистрация", "Not on Pinterest yet? Sign up", "nux.unauth.user.sign.up.message", undefined, true)})})})]})}),!o&&(0,g.jsx)(k,{type:i})]})}var z=o(555086),E=o(531711),j=o(267005),C=o(76367),T=o(844543),L=o(765963),Z=o(297728),I=o(621604),R=o(66401),M=o(1006),B=o(734325);let O=({disablePostSignupNextUrl:e,handleLoginToggleButtonClick:t,loadingIndicatorCallback:o,nextUrlParam:i,registrationCredentials:a,showResponseMessageModal:n})=>{let r=(0,y.ZP)(),{checkExperiment:m}=(0,Z.F)(),{register:f,viewer:b}=(0,p.B$)(),{refreshToken:w}=(0,I.D)(),[P,v]=(0,s.useState)(!1),[k,A]=(0,s.useState)(!1),[O,F]=(0,s.useState)(!0),[U,N]=(0,s.useState)(!1),[V,D]=(0,s.useState)(""),[W,G]=(0,s.useState)(void 0),H=m("kr_privacy_consent").anyEnabled,$="other";switch(a?.type){case"google":$="google";break;case"facebook":$="facebook";break;case"line":$="line";break;case"sso":$="sso"}(0,s.useEffect)(()=>{"1"===_.U2(u.It)&&(N(!0),D(r.bt("Съжаляваме, в момента не отговаряте на условията да се регистрирате в Pinterest.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.birthdaycollection.ineligible.msg", undefined, true)))},[r,D]),(0,s.useEffect)(()=>{(0,M.My)("dweb.signup_age_step",{type:a?.type,format:"birthday"})},[a?.type]);let Y=()=>{(0,M.My)("dweb.birthdaycollection.signup_success"),(0,M.Rp)({event:"signup_api_call_success",provider:$}),n?n(!0):C.ZP.handleSignupRedirect(i,e)},q=async e=>{if(!a||!W){o(!1);return}if(H&&!k){o(!1),A(!0);return}let t={};e&&(t={kr_privacy_consent_opt_in:e.kr_privacy_consent_opt_in,marketing_notifs_opt_out:e.marketing_notifs_opt_out});let i={...a.signupOptions,birthday:(0,h.Z)(W),birthday_source_site:T.E_.PINTEREST,...t};try{let e;let t={facebook:L.Z.FACEBOOK,google:L.Z.GPLUS,google_one_tap:L.Z.GOOGLE_ONE_TAP,line:L.Z.LINE,sso:L.Z.SSO,socialSignupWithAge:void 0}[a.type];"google"===a.type?e=12981:"google_one_tap"===a.type&&(e=12982),(0,M.Rp)({event:"signup_api_call_start",provider:$}),await f(i,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,element:e,aux_data:{...(0,x.Z)(b.type),...t?{signup_login_method:t}:Object.freeze({})}}}),Y()}catch(e){switch((0,M.Rp)({event:"signup_api_call_failure",provider:$}),w&&w(),e.api_error_code){case j.tz:(0,M.My)("dweb.birthdaycollection.signup_error.underage"),_.t8(u.It,"1",(0,_.kZ)(u.It)),v(!0),A(!1);break;case j.NF:(0,M.My)("dweb.birthdaycollection.signup_error.eu_missing_age"),D(e.message||r.bt("We need to know your age to provide you this service.", "We need to know your age to provide you this service.", "signup.birthdaycollection.error.missingAge", undefined, false));break;case j.tL:(0,M.My)("dweb.birthdaycollection.signup_error.overage"),D(e.message||r.bt("Oops! Please use a valid age to sign up.", "Oops! Please use a valid age to sign up.", "signup.birthdaycollection.error.overage", undefined, false));break;case j.iZ:(0,M.My)("dweb.birthdaycollection.signup_error.invalid_email"),D(r.bt("Your email is invalid.", "Your email is invalid.", "signup.birthdaycollection.error.invalidEmail", undefined, false));break;case j.Jt:(0,M.My)("dweb.birthdaycollection.signup_error.email_contain_pinterest"),D(r.bt("Please stick to your name, or the name of your brand", "Please stick to your name, or the name of your brand", "signup.birthdaycollection.error.emailContainsPinterest", undefined, false));break;default:(0,M.My)("dweb.birthdaycollection.signup_error.other"),D(r.bt("Съжаляваме! Нещо се обърка от наша страна.", "Sorry! Something went wrong on our end.", "signup.birthdaycollection.error.other", undefined, true))}}};return k?(0,g.jsx)(l.xu,{"data-test-id":"consents-step-modal",width:484,children:(0,g.jsx)(R.Z,{isRegistering:!1,onBackButtonClick:()=>A(!1),onSubmitHandler:q,validationError:V})}):P?(0,g.jsx)(E.Z,{birthday:W,onEditBirthday:()=>v(!1)}):(0,g.jsx)(l.xu,{paddingX:5,paddingY:5,children:(0,g.jsx)(l.xu,{paddingX:12,children:(0,g.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,g.jsx)(l.xu,{height:48,marginBottom:1,marginTop:5,width:48,children:(0,g.jsx)(l.Ee,{alt:r.bt("Изображение за рожден ден", "Birthday Image", "signup.birthdaycollection.image.alt", undefined, true),naturalHeight:48,naturalWidth:48,src:c})}),(0,g.jsx)(l.xu,{marginBottom:2,children:(0,g.jsx)(l.X6,{align:"center",size:"600",children:r.bt("Въведете датата си на раждане", "Enter your birthdate", "signup.birthdaycollection.title", undefined, true)})}),(0,g.jsx)(l.xu,{marginBottom:4,width:310,children:(0,g.jsx)(l.xu,{marginBottom:4,children:(0,g.jsx)(l.xv,{align:"center",children:r.bt("За да поддържаме Pinterest безопасно място, датата ви на раждане вече е задължителна. Датата ви на раждане също ни помага да осигуряваме повече персонализирани препоръки и подходящи реклами. Няма да споделяме тази информация без ваше разрешение и тя няма да е видима във вашия профил.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "signup.birthdaycollection.subheader1", undefined, true)})})}),(0,g.jsx)(l.xu,{marginBottom:4,width:280,children:(0,g.jsx)(l.nv,{autoComplete:"bday",disabled:U,errorMessage:V,id:"birthday",onChange:({value:e})=>{D(""),F(!e),G(e)},size:"lg",type:"date",value:W||""})}),(0,g.jsx)(l.xu,{marginBottom:10,width:280,children:(0,g.jsx)(l.xv,{align:"center",color:"subtle",children:(0,d.ML)(r)})}),(0,g.jsx)(l.xu,{marginBottom:3,width:280,children:(0,g.jsx)(l.zx,{color:"red",disabled:O,fullWidth:!0,onClick:()=>{if((0,M.Rp)({event:"submit_birthday",provider:$}),W&&!(0,d.Cd)(W,B.kx)){D((0,d.Uy)(r));return}q({})},text:r.bt("Създаване на акаунт", "Create account", "signup.birthdaycollection.submit_label", undefined, true)})}),(0,g.jsx)(l.xu,{marginBottom:9,marginTop:2,width:340,children:(0,g.jsx)(z.Z,{isSignupStep:!0})}),(0,g.jsx)(l.xu,{marginBottom:2,children:(0,g.jsx)(S,{layout:"SIGNUP_LARGE",onClick:()=>t(),type:"signupToLogin"})})]})})})};var F=o(426003);function U({disablePostSignupNextUrl:e,onBackButtonClick:t,nextUrlParam:o,onBirthdayUnderage:i,registrationCredentials:a}){let l=(0,y.ZP)(),n=(0,f.B)(),{recaptchaV3Token:r,refreshToken:c}=(0,I.D)(),{register:d,viewer:h}=(0,p.B$)(),[m,b]=(0,s.useState)(!1),[w,P]=(0,s.useState)(""),v="email";switch(a?.signupOptions.type){case"google":v="google";break;case"facebook":v="facebook";break;case"line":v="line";break;case"sso":v="sso"}let k=async({kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:s})=>{b(!0);let p={...a.signupOptions,country:n.country,recaptchaV3Token:r,kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:s},g={};"email"===a.signupOptions.type&&(g={first_name:(0,F.Z)(a.signupOptions.email||"",n.country),last_name:""});try{let t={facebook:L.Z.FACEBOOK,google:L.Z.GPLUS,google_one_tap:L.Z.GOOGLE_ONE_TAP,line:L.Z.LINE,sso:L.Z.SSO,socialSignupWithAge:void 0,consent:void 0}[a.type];(0,M.Rp)({event:"signup_api_call_start",provider:v}),await d({...p,...g},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,aux_data:{...(0,x.Z)(h.type),...t?{signup_login_method:t}:Object.freeze({})}}}),(0,M.My)("dweb.consentStep.signup_success"),(0,M.Rp)({event:"signup_api_call_success",provider:v}),C.ZP.handleSignupRedirect(o,e)}catch(e){switch(b(!1),(0,M.Rp)({event:"signup_api_call_failure",provider:v}),c&&c(),e.api_error_code){case j.tz:(0,M.My)("dweb.consentStep.signup_error.underage"),_.t8(u.It,"1",_.kZ(u.It)),"email"===a.signupOptions.type&&i({email:a.signupOptions.email,birthday:new Date(1e3*a.signupOptions.birthday).toISOString().split("T")[0]});break;case j.NF:(0,M.My)("dweb.consentStep.signup_error.eu_missing_age"),P(e.message||l.bt("Трябва да знаем възрастта ви, за да ви предоставим тази услуга.", "We need to know your age to provide you this service.", "signup.consentStep.error.missingAge", undefined, true));break;case j.tL:(0,M.My)("dweb.consentStep.signup_error.overage"),P(e.message||l.bt("Грешка! Използвайте валидна възраст, за да се регистрирате.", "Oops! Please use a valid age to sign up.", "signup.consentStep.error.overage", undefined, true));break;case j.iZ:(0,M.My)("dweb.consentStep.signup_error.invalid_email"),P(l.bt("Имейлът ви е невалиден.", "Your email is invalid.", "signup.consentStep.error.invalidEmail", undefined, true));break;case j.Jt:(0,M.My)("dweb.consentStep.signup_error.email_contain_pinterest"),P(l.bt("Придържайте се към името си или името на вашия бранд", "Please stick to your name, or the name of your brand", "signup.consentStep.error.emailContainsPinterest", undefined, true));break;default:(0,M.My)("dweb.consentStep.signup_error.other"),P(l.bt("Съжаляваме! Нещо се обърка от наша страна.", "Sorry! Something went wrong on our end.", "signup.consentStep.error.other", undefined, true))}}};return(0,g.jsx)(R.Z,{isRegistering:m,onBackButtonClick:()=>{t()},onSubmitHandler:k,validationError:w})}var N=o(477058),V=o(955937),D=o(345423),W=o(671808),G=o(337584),H=o(670618),$=o(57814),Y=o(363517),q=o(395225),X=o(993640),K=o(617332),Q=o(602185),J=o(194093),ee=o(400416),et=o(476198),eo=o(780462),ei=o(988700),es=o(371041),ea=o(343544),el=o(750077),en=o(901450),er=o(411399),ec=o(615336),ed=o(26456);function e_(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let eu=(0,s.lazy)(()=>o.e(27821).then(o.bind(o,727821))),eh="emailpwdstep";class ep extends s.Component{constructor(e){super(e),e_(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e(!1),this.setState({accountRecoveryModalType:D.w[j.an]})}),e_(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),e_(this,"setLoadingState",e=>{let{loadingIndicatorCallback:t,showSignupWelcomeLoadingFn:o}=this.props;return o&&!1===e&&o(!1),t(e)}),e_(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:t}=this.props,o=await t(e??"");this.setState({exchangeCodeToTokenUrl:o.exchangeCodeToTokenUrl??"",isSsoEmail:o.isSso,existingUserSso:!!o.existingUser,existingUserIsSso:!!o.existingUserIsSso,ssoAuthorizationUri:o.authorizationUri??""})}),e_(this,"debouncedCheckIfSsoUser",(0,V.Z)(async e=>{(0,ec.Z)(e??"",[(0,ed.aH)({message:"invalid email"}),(0,ed.GT)({message:"invalid email"})])?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),e_(this,"handleEmailChange",e=>{this.props.setEmail(e.target.value),this.setState({hideFBGoogleToolTip:!0}),this.debouncedCheckIfSsoUser(e.target.value)}),e_(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)}),e_(this,"handleEmailSignUp",()=>{let{authenticateWithSso:e,email:t,history:o,handleSsoRedirect:i,i18n:s}=this.props,{isSsoEmail:a,exchangeCodeToTokenUrl:l,existingUserSso:n,existingUserIsSso:r,ssoAuthorizationUri:c}=this.state;if(a){if(n){if(r){this.props.logContextEvent({event_type:102,view_parameter:3271,element:14367}),e({callbacks:{success:e=>{let{authCode:t}=e,{container:o,email:i,login:s,pageContext:a}=this.props;if(i&&t){let e={sso_user_email:i,sso_auth_code:t};s({creds:e,loggingOptions:{loggingData:{container:o,page:a?.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(()=>this.handleLoginSuccess(e),t=>{(0,M.My)(`unauth.login.sso.loginError.${eh}`,{code:t.api_error_code,message:t.message}),this.handleLoginFailure(t,e)})}},error:e=>{(0,M.My)(`unauth.login.sso.error.${eh}`,{code:e.api_error_code,message:e.message}),(0,G.x)(s.bt("Съжаляваме! Нещо се обърка от наша страна.", "Sorry! Something went wrong on our end.", "emailPasswordStep.errorMessage.sso.login", undefined, true)),this.setLoadingState(!1)}},exchangeCodeToTokenUrl:l,isLogin:!0,modalUrl:c??""});return}}else{i&&i(),(0,ei.i)(t,o);return}}(0,M.My)("unauth_email_validation_attempt"),this.props.trackInteraction({action:"click",item:"email-signup-button"});let d=(0,ec.Z)(this.props.email??"",this.emailValidators);if(d)this.setState({emailValidationError:d}),(0,M.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${eh}`);else{let e=(0,ec.Z)(this.props.password??"",this.asciiValidators);e&&(this.setState({passwordValidationError:e}),(0,M.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${eh}`)),(d=(0,ec.Z)(this.props.password??"",this.loginPasswordValidators))?(this.setState({passwordValidationError:d}),(0,M.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${eh}`)):(this.setState({passwordValidationError:null}),this.validateEmailAvailable()),this.setState({emailValidationError:null}),this.props.setNameFromEmail()}}),e_(this,"register",({birthday:e})=>{let{container:t,email:o,name:i,pageContext:s,password:a,onBirthdayUnderage:l,requestContext:n,signupSource:r,register:c,i18n:d}=this.props,h={type:"email",birthday:e,email:o,password:a,country:n.country,first_name:i,last_name:"",recaptchaV3Token:this.props.recaptchaV3Token||"default"},p={container:t,page:s?.pageType,signupSource:r};(0,M.Rp)({event:"signup_api_call_start",provider:"email"}),c(h,{signupContext:p,signupAttemptContextEvent:this.signupLoginContextEvent(7537)}).then(()=>{let{showResponseMessageModal:e}=this.props;(0,M.My)("unauth.signup_one_step.completed"),(0,M.Rp)({event:"signup_api_call_success",provider:"email"}),e?e(!0):C.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl)},e=>{switch(this.setLoadingState(!1),(0,M.Rp)({event:"signup_api_call_failure",provider:"email"}),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),(0,J.Z)(e,"api_error_code")){case j.tz:_.t8(u.It,"1"),l?l({birthday:this.props.birthday,email:o}):this.showUnderAgeError((0,J.Z)(e,"message"));break;case j.NF:this.setState({birthdayValidationError:(0,J.Z)(e,"message")||d.bt("Трябва да знаем възрастта ви, за да ви предоставим тази услуга.", "We need to know your age to provide you this service.", "userRegistration.missingAgeError", undefined, true)});break;case j.tL:this.setState({birthdayValidationError:(0,J.Z)(e,"message")||d.bt("Oops! Please use a valid age to sign up.", "Oops! Please use a valid age to sign up.", "userRegistration.overageError", undefined, false)});break;case j.iZ:(0,M.My)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:d.bt("Имейлът ви е невалиден.", "Your email is invalid.", " - ", undefined, true)});break;case j.Jt:(0,M.My)("unauth_show_invalid_email_contains_pinterest"),this.setState({emailValidationError:d.bt("Please stick to your name, or the name of your brand", "Please stick to your name, or the name of your brand", " - ", undefined, false)});break;default:(0,G.x)(d.bt("Съжаляваме! Нещо се обърка от наша страна.", "Sorry! Something went wrong on our end.", " - ", undefined, true))}})}),e_(this,"checkEmailExistsWithCompletion",({email:e,handleEmailExists:t,handleEmailNotExist:o,handleError:i})=>{let{i18n:s}=this.props;(0,ee.Z)({url:"/v3/register/exists/",data:{email:e}}).then(e=>{this.setState({emailValidationError:null}),!1===e.resource_response.data?o():t()},e=>{let t=s.bt("Хм... Това не прилича на имейл адрес", "Hmm...that doesn't look like an email address", " - ", undefined, true);(0,J.Z)(e,"api_error_code")===j.bd?t=(0,J.Z)(e,"message"):(0,ec.Z)(this.props.email,this.asciiValidators)&&(0,M.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${eh}`),this.setState({emailValidationError:t}),i?.()})}),e_(this,"checkEmailValidation",async e=>{let{i18n:t,showToast:o}=this.props;if((0,K.Z)(e)||(0,K.z)(e,"yahoo")||(0,K.z)(e,"hotmail")){this.setState({emailValidationError:t.bt("Съжаляваме, това не изглежда като валиден имейл", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)});return}try{let{data:o}=(await (0,ee.Z)({url:"/v3/email/validation/",data:{email:e}})).resource_response||{};o&&o.is_valid?this.setState({emailValidationError:null}):this.setState({emailValidationError:t.bt("Съжаляваме, това не изглежда като валиден имейл", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)})}catch(e){e?.message?o(({hideToast:t})=>(0,g.jsx)(et.ZP,{duration:3e3,onHide:t,text:e.message||"",type:"error"})):(0,M.My)(`unauth.login.error.${eh}.ERROR${e.api_error_code}`)}}),e_(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),e_(this,"renderSignupForm",()=>{let{birthday:e,email:t,i18n:o,onBirthdayChange:i,password:s,suppressFocus:a,viewType:n,viewParameter:r,component:c,attributionLabel:h,trackConversionUpsell:p}=this.props,{birthdayValidationError:m,isSsoEmail:x,existingUserSso:y,existingUserIsSso:f}=this.state,b=x&&(!y||y&&f),w=(0,d.Uy)(o),P=e=>{p({element:e,eventType:14689})};return this.state.showRegisterForm?(0,g.jsx)(Y.Z,{attributionLabel:h,buttonText:b?o.bt("Продължаване с SSO", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true):o.bt("Продължаване", "Continue", "Continue button on web", undefined, true),buttonTextLabel:o.bt("Продължете създаването на акаунта си в Pinterest", "Continue creating your Pinterest account", "Accessiblity button text to continue creating an account", undefined, true),component:c,email:t,emailFieldHasError:this.state.emailFieldHasError,emailLabel:o.bt("Продължаване с имейл", "Continue with email", "Sign up button", undefined, true),emailText:o.bt("Имейл", "Email", "Text on button asking for email", undefined, true),emailValidationError:this.state.emailValidationError,isSsoEmail:b,onButtonClick:()=>{if("1"===_.U2(u.It)){this.showUnderAgeError();return}if(e&&!(0,d.Cd)(e,B.kx)){this.setState({birthdayValidationError:w});return}this.setState({facebookValidationError:null,googleValidationError:null,hideFBGoogleToolTip:!1}),this.handleEmailSignUp()},onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:s??"",passwordText:o.bt("Създаване на парола", "Create a password", "Text asking the user to create a password while registering", undefined, true),passwordValidationError:this.state.passwordValidationError,signupForm:{birthdayProps:{birthday:e,birthdayValidationError:m,disabled:"1"===_.U2(u.It),setBirthdayValidationError:e=>this.setState({birthdayValidationError:e}),onBirthdayChange:i},checkEmailExistsWithCompletion:this.checkEmailExistsWithCompletion,checkEmailValidation:this.checkEmailValidation,registerRestricted:"1"===_.U2(u.It)},suppressFocus:a,viewParameter:r,viewType:n}):(0,g.jsx)(l.xu,{"data-test-id":"emailSignUpButton",children:(0,g.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:()=>{P(13506),(0,M.NC)("signup_email_button"),this.props.trackInteraction({action:"click",item:"email-signup-button",within:"bottom-right-upsell"}),this.setState({showRegisterForm:!0})},text:o.bt("Продължаване с имейл", "Continue with email", "Text on the sign up button for signing up with email", undefined, true)})})}),e_(this,"showUnderAgeError",e=>{let{i18n:t}=this.props;this.setState({birthdayValidationError:e||t.bt("Съжаляваме, в момента не отговаряте на условията да се регистрирате в Pinterest.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Error message shown when underage user tries to register", undefined, true)})});let t=new URLSearchParams(e.location.search),o=parseFloat(t.get("aec")||"0");t.delete("aec"),t.size>0&&`?${t.toString()}`!==e.location.search&&e.history.replace({pathname:e.location.pathname,search:t.toString()}),this.state={accountRecoveryModalType:o===j.yV||o===j.$j?C.Ny.SOFT_BANNED:null,birthdayValidationError:null,emailFieldHasError:!1,emailValidationError:null,facebookValidationError:null,googleValidationError:null,passwordValidationError:null,showRegisterForm:"home_page"===this.props.container,hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:i}=e;this.emailValidators=[(0,ed.aH)({message:i.bt("Пропуснахте едно поле! Не забравяйте да добавите имейла си.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true)}),(0,ed.GT)({message:i.bt("Хм... Това не прилича на имейл адрес.", "Hmm...that doesn't look like an email address.", " - ", undefined, true)})];let s=i.bt("Паролата ви е твърде кратка! Необходими са ви 6+ знака.", "Your password is too short! You need 6+ characters.", " - ", undefined, true),a=i.bt("Използвайте само съчетание от букви, цифри и специални знаци (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "EmailPasswordStep.password.onlyASCII", undefined, true);this.requireBirthdayValidatorMessage=i.bt("Пропуснахте нещо. Не забравяйте да добавите рождения си ден.", "You missed a spot. Don’t forget to add your birthday.", "signup.emailpasswordstep.birthday.require.validator_message", undefined, true);let n=i.bt("Невалидна дата", "Invalid date", "signup.emailpasswordstep.birthday.validator_message", undefined, true);this.asciiValidators=[(0,ed.oR)({message:a})],this.loginPasswordValidators=[(0,ed.aH)({message:s}),(0,ed.oR)({message:a}),(0,ed.Gy)({min:6,minErrorString:s})],this.birthdayValidators=[(0,ed.aH)({message:this.requireBirthdayValidatorMessage}),(0,ed.C9)({date:new Date(new Date().getFullYear(),0,1),message:n})]}componentDidMount(){this.props.email&&this.checkIfSsoUser()}handleLoginFailure(e,t){let{setPassword:o,email:i,onLoginWithMfa:s,i18n:a}=this.props,l=e.http_status===ea.Ej?ea.Ej:e.api_error_code;if(l===j.Zn){C.ZP.handleLoginMfa(t,{phoneNumberEnd:e.data?.phone_number_end},s);return}let n=(0,eo.Z)({error:e,source:"emailPasswordStep",onClickPasswordReset:()=>{this.props.trackInteraction({action:"click",item:"password-reset-link"}),(0,ee.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i}}).then(()=>this.updateAccountRecoveryModal(C.Ny.PASSWORD_RESET_SENT))}});n?(this.setState({...n,accountRecoveryModalType:l?D.w[l]:void 0}),n.passwordValidationError&&o("")):(0,G.x)(a.bt("Съжаляваме! Нещо се обърка от наша страна.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setLoadingState(!1)}handleLoginSuccess(e){C.ZP.storeLoginCredentialsToBrowser(e);let{showResponseMessageModal:t}=this.props;t?t(!1):this.props.nextUrlParam?C.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}signupLoginContextEvent(e){let{viewer:t}=this.props,{isSsoEmail:o,existingUserSso:i,existingUserIsSso:s}=this.state;return{event_type:e,aux_data:{...(0,x.Z)(t.type),signup_login_method:o&&(!i||i&&s)?L.Z.SSO:L.Z.EMAIL}}}validateEmailAvailable(){let{container:e,email:t,login:o,pageContext:i,password:s}=this.props;this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),this.setLoadingState(!0),this.checkEmailExistsWithCompletion({email:t,handleEmailExists:()=>{let a={username_or_email:t,password:s??""};o({creds:a,loggingOptions:{loggingData:{container:e,page:i?.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(()=>this.handleLoginSuccess(a),e=>this.handleLoginFailure(e,a))},handleEmailNotExist:async()=>{await this.checkEmailValidation(t);let{birthday:e,password:o,isConsentStepNeeded:i,onConsentStepNeeded:s}=this.props;if(this.setLoadingState(!1),this.state.emailValidationError)return;let a=await this.props.getPasswordValidationRules({useOldPasswordValidation:!0}),l=await (0,ec.U)(o??"",a);if(l){this.setState({passwordValidationError:l}),(0,M.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${eh}`);return}let n=(0,ec.Z)(e||"",this.birthdayValidators);if(n){(0,M.My)(`unauth.login.error.CLIENT_ERROR.invalidbirthday.${eh}`),this.setState({birthdayValidationError:n});return}let r=e?(0,h.Z)(e):void 0;if(void 0===r){this.setState({birthdayValidationError:this.requireBirthdayValidatorMessage});return}if((0,K.Z)(t)){this.setState({emailFieldHasError:!0});return}if(this.setState({emailValidationError:null}),(0,M.My)("unauth.signup_step_1.completed"),i&&s){s({type:"consent",signupOptions:{type:"email",email:t,password:o,birthday:r}});return}this.register({birthday:r})}})}render(){let{additionalChildren:e,container:t,disablePostSignupNextUrl:o,email:i,loadingIndicatorCallback:a,nextUrlParam:n,disableFBSignup:r,onFBMissingEmail:c,onFBPhoneOnlyConnectVerified:d,onLoginWithMfa:_,switchToSocialSignupWithAgeFlow:u,showLineConnectButton:h,showResponseMessageModal:p,showSignupWelcomeLoadingFn:m,trackConversionUpsell:x,requestContext:y}=this.props,{accountRecoveryModalType:f,facebookValidationError:b,googleValidationError:w,hideFBGoogleToolTip:P,showRegisterForm:v}=this.state,k=e=>{x({element:e,eventType:14689})},A=y.experimentsClient.checkExperiment("dweb_unauth_remove_fb_signup_iteration").anyEnabled;return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:268,children:[(0,g.jsx)(D.Z,{email:i,modalType:f,onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),(0,g.jsxs)(l.xu,{children:[this.renderSignupForm(),!!v&&(0,g.jsx)(W.Z,{}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"10px"}},children:[!A&&(0,g.jsx)(H.Z,{container:t,disableFBSignup:r,disablePostSignupNextUrl:o,loadingIndicatorCallback:a,onClick:()=>{k(13505)},onFBMissingEmail:c,onFBPhoneOnlyConnectVerified:d,onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(C.Ny.RATE_LIMITED),showResponseMessageModal:p,showSignupWelcomeLoadingFn:m,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},tooltip:!P&&"string"==typeof b&&b||null}),(0,g.jsx)(l.xu,{height:10}),(0,g.jsx)(l.xu,{children:(0,g.jsx)($.Z,{container:t,nextUrlParam:n,onClick:()=>{k(13504)},onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(C.Ny.RATE_LIMITED),showResponseMessageModal:p,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},tooltip:!P&&"string"==typeof w&&w||null})}),h&&(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(l.xu,{height:10}),(0,g.jsx)(Q.Z,{name:"SafeSuspense_EmailPasswordStep_LineConnectButton",children:(0,g.jsx)(el.Z,{children:(0,g.jsx)(eu,{container:t,loadingIndicatorCallback:a,nextUrlParam:n,onClick:()=>{k(13507)},onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(C.Ny.RATE_LIMITED),showResponseMessageModal:p,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u}})})})]})]})]}),(0,g.jsx)(z.Z,{isSignupStep:!0}),e]})}}function eg(e){let{password:t,setPassword:o,birthday:i,setBirthday:l}=e,n=(0,X.lO)(),c=(0,f.B)(),{showToast:d}=(0,en.F9)(),{register:_,viewer:u}=(0,p.B$)(),h=(0,q.Z)(),m=(0,r.Z)(),{viewType:x,viewParameter:b}=(0,N.SU)(),v=(0,w.Z)(),k=(0,y.ZP)(),{country:A}=c,S=(0,a.TH)(),z=(0,a.k6)(),{recaptchaV3Token:E,refreshToken:j}=(0,I.D)(),[C,T]=(0,s.useState)(""),{trackConversionUpsell:L}=(0,P.Z)(),{checkExperiment:R}=(0,Z.F)(),{authenticateWithSso:M,verifySsoUser:B}=(0,es.Z)(),O=(0,er.Z)();return(0,g.jsx)(ep,{...e,attributionLabel:e.attributionLabel,authenticateWithSso:M,birthday:i,checkExperiment:R,getPasswordValidationRules:O,history:z,i18n:k,isConsentStepNeeded:R("kr_privacy_consent").anyEnabled,location:S,logContextEvent:m,login:h,name:C,onBirthdayChange:e=>l(e.value),pageContext:n,password:t,recaptchaV3Token:E,refreshRecaptchaV3Token:j,register:_,requestContext:c,setNameFromEmail:()=>T((0,F.Z)(e.email,A)),setPassword:o,showLineConnectButton:"JP"===A,showToast:d,trackConversionUpsell:L,trackInteraction:v,verifySsoUser:B,viewer:u,viewParameter:b,viewType:x})}var em=o(644845),ex=o(784714);let ey=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:a})=>{let n=(0,y.ZP)();(0,s.useEffect)(()=>{(0,M.My)("unauth.fb_phone_only_signup.email_step")},[]),n.bt("Използваме вашия имейл адрес за създаване на акаунт и за важни известия за сигурността и правни въпроси.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let r=n.bt("Грешка. Не можем да създадем вашия акаунт без имейла ви. За да продължите, се погрижете да осигурите имейл за създаване на акаунта ви.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,g.jsx)(l.xu,{marginTop:3,children:(0,g.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),a()},children:[(0,g.jsx)(l.xv,{align:"start",overflow:"normal",children:r}),(0,g.jsx)(l.xu,{marginTop:3}),(0,g.jsx)(l.xu,{children:(0,g.jsx)(l.nv,{ref:ex.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:n.bt("Имейл адрес", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,g.jsx)(l.xu,{marginTop:5}),(0,g.jsx)(l.zx,{color:"red",disabled:!e,fullWidth:!0,text:n.bt("Продължи", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,g.jsx)(l.xu,{marginTop:2}),(0,g.jsx)(l.zx,{fullWidth:!0,onClick:()=>{(0,M.My)("unauth.fb_phone_only_signup.email_step.not_now_click"),o&&o()},text:n.bt("Не сега", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})};var ef=o(806369),eb=o(369081);function ew(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let eP={EMAIL:"email"};class ev extends s.Component{constructor(e){super(e),ew(this,"mounted",!1),ew(this,"handleEmailChange",({value:e})=>{this.setState({email:e})}),ew(this,"showError",(e,t)=>{this.mounted&&t===eP.EMAIL&&this.setState({emailError:e})}),ew(this,"handleSubmit",()=>{let{i18n:e}=this.props;if((0,M.My)("unauth.fb_phone_only_signup.submit_email"),(0,M.Rp)({event:"submit_email",provider:"facebook"}),this.state.email)(0,M.My)("unauth.fb_phone_only_signup.submit_email"),this.attemptEmailSignupOrLogin();else{let t=e.bt("Email is required", "Email is required", "email error message", undefined, false);this.setState({emailError:t})}}),ew(this,"handleSignupSuccess",()=>{C.ZP.handleSignupRedirect(this.props.nextUrlParam||window.location.pathname,!0),(0,M.My)("unauth.fb_phone_only_signup.signup_success"),(0,M.Rp)({event:"signup_api_call_success",provider:"facebook"})}),ew(this,"handleSignupFailure",e=>t=>{let{i18n:o}=this.props,i=t.message||o.bt("Oops! Something went wrong… Click Continue to try again.", "Oops! Something went wrong… Click Continue to try again.", "Error during signup during FB email collection step", undefined, false);this.showError(i,e),(0,M.My)("unauth.fb_phone_only_signup.signup_failure"),(0,M.Rp)({event:"signup_api_call_failure",provider:"facebook"})}),ew(this,"attemptEmailSignupOrLogin",()=>{let{desktopCoreLoginContext:{register:e},i18n:t}=this.props,{email:o}=this.state,i=[(0,ed.GT)({message:t.bt("Хм... Това не прилича на имейл адрес.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],s=(0,ec.Z)(o,i);if(s){(0,M.My)("unauth.fb_phone_only_signup.email_validation_failure"),this.setState({emailError:s});return}let{registrationCredentials:{type:a,signupOptions:l},showSocialSignupWithAgeStep:n,showEmailAlreadyExistModal:r}=this.props;(0,ee.Z)({url:"/v3/register/exists/",data:{email:o}}).then(t=>{if(!1===t.resource_response.data){let t={...l,email:o,email_source_site:T.E_.PINTEREST},{birthday:i}=t;void 0!==i&&(0,em.Z)(i)?((0,M.Rp)({event:"signup_api_call_start",provider:"facebook"}),(t.facebook_token?(0,eb.MI)(t.facebook_token).then(ef.Z):Promise.resolve(Object.freeze({}))).then(o=>{if(this.props.checkExperiment("kr_privacy_consent").anyEnabled){this.props.onConsentStepNeeded({type:"consent",signupOptions:{...o,...t,birthday:i,birthday_source_site:T.E_.FACEBOOK}});return}e({...o,...t,birthday:i,birthday_source_site:T.E_.FACEBOOK},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(this.handleSignupSuccess,()=>this.handleSignupFailure(eP.EMAIL))})):n({type:a,signupOptions:t})}else r({email:o}),(0,M.My)("unauth.fb_phone_only_signup.email_existed")},e=>{let o=(0,J.Z)(e,"api_error_code")===j.bd?(0,J.Z)(e,"message")??"":t.bt("Хм... Това не прилича на имейл адрес.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true);this.showError(o,eP.EMAIL),(0,M.My)("unauth.fb_phone_only_signup.email_exist_api_call_failure")})}),this.state={email:"",emailError:""}}componentDidMount(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}componentWillUnmount(){this.mounted=!1}render(){return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:268,children:(0,g.jsx)(ey,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick})})}}let ek=e=>{let t=(0,p.B$)(),o=(0,f.B)(),{checkExperiment:i}=(0,Z.F)(),s=(0,y.ZP)();return(0,g.jsx)(ev,{...e,checkExperiment:i,desktopCoreLoginContext:t,i18n:s,requestContext:o})};var eA=o(281229),eS=o(902614),ez=o(221386),eE=o(167912),ej=o(898043),eC=o(559028),eT=o(282999),eL=o(26473),eZ=o(950443);let eI=void 0!==i?i:i=o(553046),eR=({fallback:e,pinId:t,iconButton:o})=>{let i=(0,y.ZP)(),s=(0,eE.useLazyLoadQuery)(eI,{pinId:t});if(!t)return e;let a=s.v3GetPinQuery?.__typename==="V3GetPin"?s.v3GetPinQuery?.data:null,n={"236x":a?.imageSpec_236x?.url??""},r=(0,eL.Z)({imagesUrls:n,embedSrc:a?.embed?.src,embedType:a?.embed?.type,preferredResolution:"236x",excludeOriginals:!0});return r?(0,g.jsxs)(l.xu,{"data-test-id":"signup-image-wrapper",height:80,margin:"auto",position:"relative",width:82,children:[(0,g.jsx)(l.xu,{height:72,margin:"auto",marginBottom:6,marginTop:4,width:56,children:(0,g.jsx)(l.zd,{height:72,rounding:2,width:56,children:(0,g.jsx)(l.Ee,{alt:i.bt("Запазване на изображението за пин", "Save pin image", "FullPageSignup.signupImage.savePinImage", undefined, true),color:a?.dominantColor||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:r})})}),!!o&&(0,g.jsx)(l.xu,{bottom:!0,position:"absolute",right:!0,children:o})]}):e};function eM({container:e,fallback:t,savePinId:o,user:i,signupSource:s}){let n=(0,y.ZP)(),{path:r}=(0,a.$B)(),c=(0,a.TH)(),d=(0,eT.L6)(c),_=(0,w.Z)(),u=o||("/pin/:id"===r?c.pathname.split("/")[2]:null);switch(e){case"follow":return(0,g.jsx)(l.xu,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:8,children:(0,g.jsx)(eC.qE,{accessibilityLabel:n.bt("Аватар на потребителя", "User Avatar", "profile.ProfileHeader.Avatar", undefined, true),name:i?.full_name??"",outline:!0,size:"md",src:i?.image_large_url??""})});case"save":case"download":return d&&u?(0,g.jsx)(eZ.Z,{fallback:t,children:(0,g.jsx)(eR,{fallback:t,iconButton:"downloadImageBtnUnauth"===s?(0,g.jsx)(l.zd,{rounding:"circle",children:(0,g.jsx)("div",{"aria-hidden":"true",onClick:()=>{_({action:"click",item:"download-image-button",within:"unauth-signup-modal"})},children:(0,g.jsx)(l.xu,{alignItems:"center",color:"lightWash",dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",border:`solid 3px ${ej.PP}`}},direction:"column",display:"flex",height:32,justifyContent:"center",rounding:"circle",width:32,children:(0,g.jsx)(l.JO,{accessibilityLabel:n.bt("Регистрирайте се, за да изтеглите", "Sign Up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true),color:"default",icon:"download"})})})}):null,pinId:u})}):t;default:return t}}var eB=o(199985);function eO({large:e}){return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"8px auto 6px"}},display:"block",height:45,width:45,children:(0,g.jsx)(eB.Z,{size:e?50:40})})}class eF extends s.Component{constructor(...e){var t,o,i;super(...e),t="componentDidMount",o=()=>{let{container:e,modalType:t}=this.props;(0,M.My)("web.unauth.modal_title.view"),(0,M.My)(`unauth_web_modal.${e||"unknown"}.tier1.${t}.shown`)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}render(){let{container:e,titleText:t}=this.props;return(0,g.jsx)("h1",{style:{color:"#333",fontSize:"revamped_business_login_page"===e?"28px":"32px",fontWeight:"revamped_business_login_page"===e?500:600,letterSpacing:"-1.2px",MozOsxFontSmoothing:"grayscale",padding:"revamped_business_login_page"===e?"0px 0px":"0px 16px",WebkitFontSmoothing:"antialiased",wordBreak:"keep-all"},children:t})}}var eU=o(969119);let eN=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:s})=>{let a=(0,y.ZP)();(0,eU.Z)(()=>{(0,M.My)("unauth.line_missing_email.email_step")}),a.bt("Използваме вашия имейл адрес за създаване на акаунт и за важни известия за сигурността и правни въпроси.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let n=a.bt("Грешка. Не можем да създадем вашия акаунт без имейла ви. За да продължите, се погрижете да осигурите имейл за създаване на акаунта ви.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,g.jsx)(l.xu,{marginTop:3,children:(0,g.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),s()},children:[(0,g.jsx)(l.xv,{align:"start",overflow:"normal",children:n}),(0,g.jsx)(l.xu,{marginBottom:5,marginTop:3,children:(0,g.jsx)(l.nv,{ref:ex.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:a.bt("Имейл адрес", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,g.jsx)(l.zx,{color:"red",disabled:!e,fullWidth:!0,text:a.bt("Продължи", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,g.jsx)(l.xu,{marginTop:2}),(0,g.jsx)(l.zx,{fullWidth:!0,onClick:()=>{(0,M.My)("unauth.line_missing_email.email_step.not_now_click"),o&&o()},text:a.bt("Не сега", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})},eV=({nextUrlParam:e,loadingIndicatorCallback:t,showEmailAlreadyExistModal:o,onNotNowClick:i,registrationCredentials:a,showSocialSignupWithAgeStep:n})=>{let r=(0,p.B$)(),c=(0,y.ZP)(),[d,_]=(0,s.useState)(""),[u,h]=(0,s.useState)("");return(0,eU.Z)(()=>{t(!1)}),(0,g.jsx)(l.xu,{marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,width:268,children:(0,g.jsx)(eN,{email:d,emailError:u,handleEmailChange:({value:e})=>_(e),handleSubmit:()=>{if((0,M.My)("unauth.line_missing_email.submit_email"),!d){h(c.bt("Email is required", "Email is required", "email error message", undefined, false));return}(0,M.My)("unauth.line_missing_email.submit_email");let{register:i}=r,s=[(0,ed.GT)({message:c.bt("Хм... Това не прилича на имейл адрес.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],l=(0,ec.Z)(d,s);if(l){(0,M.My)("unauth.line_missing_email.email_validation_failure"),h(l);return}let{type:_,signupOptions:u}=a;(0,ee.Z)({url:"/v3/register/exists/",data:{email:d}}).then(s=>{if(!1!==s.resource_response.data){o({email:d}),(0,M.My)("unauth.line_missing_email.email_existed");return}t(!0);let{birthday:a}=u;void 0===a?(n({type:_,signupOptions:{...u,email:d}}),t(!1)):i({...u,email:d,birthday:a},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(()=>{t(!1),C.ZP.handleSignupRedirect(e||C.ZP.defaultSocialLoginRedirectUrl(),!0),(0,M.My)("unauth.line_missing_email.signup_success")},e=>{t(!1),h(e.message||c.bt("Oops! Something went wrong… Click Continue to try again.", "Oops! Something went wrong… Click Continue to try again.", "unauth.lineEmailCollect.error", undefined, false)),(0,M.My)("unauth.line_missing_email.signup_failure")})},e=>{h((0,J.Z)(e,"api_error_code")===j.bd?(0,J.Z)(e,"message")??"":c.bt("Хм... Това не прилича на имейл адрес.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)),(0,M.My)("unauth.line_missing_email.email_exist_api_call_failure")})},onNotNowClick:i})})};var eD=o(545321),eW=o(573706),eG=o(212515),eH=o(240582),e$=o(240760),eY=o(644182);let eq=function({container:e="unknown",creds:t,isAccountSwitch:o,nextUrlParam:i,phoneNumberEnd:a}){let[n,r]=(0,s.useState)(null),[c,d]=(0,s.useState)(""),[_,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)(!1),{isAuthenticated:m,loginState:x}=(0,f.B)(),w=(0,y.ZP)(),P=(0,X.lO)(),v=(0,q.Z)(),k={container:e,page:P?.pageType},{logContextEvent:A}=(0,eW.v)();(0,eG.Q)({view_type:565,view_parameter:3731}),(0,s.useEffect)(()=>{!o&&C.ZP.isFullyLoggedIn(m,x)&&C.ZP.handleRedirect(i)},[]);let S=w.bt("Продължи", "Continue", " - ", undefined, true);return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"18px auto"}},width:268,children:[_&&(0,g.jsx)(eY.Z,{rounding:8}),(0,g.jsx)(l.xu,{paddingY:6,children:(0,g.jsx)(l.xv,{align:"center",size:"200",children:a?(0,e$.nk)(w.bt("Проверете телефона си с номер, завършващ на {{ phoneNumberEnd }} за код и го въведете в полето по-долу, за да влезете.", "Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.", " - ", undefined, true),{phoneNumberEnd:(0,g.jsx)(l.xv,{align:"center",weight:"bold",children:a},"phone")}):w.bt("Проверете за код в телефона си и го въведете в полето по-долу, за да влезете.", "Please check your phone for a code and enter it in the field below to log in.", " - ", undefined, true)})}),(0,g.jsxs)("form",{method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),A({view_type:565,view_parameter:3731,event_type:101,element:12019});let o=(0,ec.Z)(c??"",[(0,ed.aH)({message:w.bt("Пропуснахте нещо! Не забравяйте да добавите своя код за проверка.", "You missed a spot! Don't forget to add your verification code.", " - ", undefined, true)}),(0,ed.VC)({message:w.bt("Хм... това не прилича на код за удостоверяване.", "Hmm...that doesn't look like a verification code.", " - ", undefined, true)})]);o?(r(o),(0,M.My)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(r(null),u(!0),v({creds:{...t,mfa_token:c},loggingOptions:{loggingData:k,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{A({view_type:565,view_parameter:3731,event_type:9992});let e=window.location.pathname===b.lfe||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname;C.ZP.handleRedirect(i||e)},e=>{let t=(0,J.Z)(e,"message");t?r(t):(0,G.x)(w.bt("Съжаляваме! Нещо се обърка от наша страна.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),u(!1)}))},children:[(0,g.jsx)(eH.Z,{autoComplete:"off",focused:!0,hasError:!!n,id:"mfaCode",name:"code",onChange:e=>d(e.target.value),placeholder:w.bt("Код за удостоверяване", "Verification code", " - ", undefined, true),tooltip:n,type:"text",value:c}),(0,g.jsx)(l.xu,{height:10}),(0,g.jsx)(l.zx,{accessibilityLabel:S,color:"red",fullWidth:!0,text:S,type:"submit"})]}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"15px",color:"#333"}},children:(0,e$.nk)(w.bt("Ако не сте го получили, можем да {{ resendCode }}.", "If you didn't get it, we can {{ resendCode }}.", " - ", undefined, true),{resendCode:(0,g.jsx)(l.rU,{display:"inlineBlock",href:"",onClick:({event:e,dangerouslyDisableOnNavigation:o})=>{o(),e.preventDefault(),A({view_type:565,view_parameter:3731,event_type:101,element:12920}),u(!0),v({creds:{...t,mfa_resend:!0},loggingOptions:{loggingData:k,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{u(!1),p(!0)},e=>{u(!1);let t=(0,J.Z)(e,"message");t?r(t):(0,G.x)(w.bt("Съжаляваме! Нещо се обърка от наша страна.", "Sorry! Something went wrong on our end.", " - ", undefined, true))})},underline:"hover",children:(0,g.jsx)(l.xv,{size:"100",weight:"bold",children:w.bt("изпратим отново кода", "resend the code", " - ", undefined, true)})},"code")})}),h&&(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,g.jsx)(et.ZP,{duration:5e3,onHide:()=>p(!1),text:w.bt("Изпратихме ви нов код!", "We sent you a new code!", "login2fa.resendCode.success", undefined, true)})})]})};var eX=o(706499);let eK={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},eQ=({children:e,noBoxShadow:t})=>{let o={...eK,...t?{boxShadow:"none"}:{}},{viewer:i}=(0,p.B$)(),s=(0,p.Cw)();return"LIMITED_LOGIN"===i.type&&s?(0,g.jsxs)("div",{"data-test-id":"login-modal-default",style:{...o,display:"flex",width:"auto",padding:""},children:[(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"8px 0 0 8px"}},overflow:"hidden",children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{width:"number"==typeof s.height&&"number"==typeof s.width?600*(s.width/s.height||0):0,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:s.url?`url(${s.url})`:""}},height:"100%",maxWidth:400})}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"32px 0"}},width:400,children:e})]}):(0,g.jsx)("div",{"data-test-id":"login-modal-default",style:{...o,padding:"32px 0"},children:e})},eJ=({children:e,email:t,footer:o,handleNotYouClick:i,header:a,noBoxShadow:n,title:r,viewerInfo:c})=>{let{viewer:d}=(0,p.B$)(),_=(0,y.ZP)();return(0,g.jsx)(eQ,{noBoxShadow:n,children:(0,g.jsxs)(s.Fragment,{children:[a,(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},display:"block",height:40,width:40,children:(0,g.jsx)(eB.Z,{size:40})}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 48px 16px"}},maxHeight:150,overflow:"hidden",width:"auto",children:r}),"LIMITED_LOGIN"===d.type&&(0,g.jsx)(l.xu,{marginBottom:4,paddingX:12,children:(0,g.jsx)(eX.Z,{})}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:120,children:(0,g.jsx)(eC.qE,{name:c.firstName,src:c.imageUrl??void 0})}),(0,g.jsx)(l.xu,{marginBottom:3,children:(0,g.jsx)(l.xv,{align:"center",children:t})}),e,(0,g.jsx)(l.xu,{paddingY:5,children:(0,g.jsx)(l.iz,{})}),(0,g.jsx)(l.xu,{"data-test-id":"login-switch-account",children:(0,g.jsx)(l.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),i()},children:(0,g.jsx)(l.xv,{align:"center",size:"200",weight:"bold",children:(0,g.jsx)(l.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:_.bt("Не сте вие? Влизане с различен акаунт", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,g.jsx)(l.xu,{marginBottom:0,marginTop:1,children:o})]})})};var e0=o(529858),e1=o(635284),e3=o(774980);let e4=e=>{e1.Z.resume(e3.LU),(0,M.My)(`web.dismiss_account_switcher.${e}`)};var e2=o(475813),e6=o(907511),e8=o(976534),e5=o(765955),e7=o(424583);let e9={backgroundColor:"#fff",borderRadius:"32px",position:"relative",textAlign:"center",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},te={home_page:{...e9,minHeight:"initial"},pinBookmarklet:{...e9,boxShadow:"none"},revamped_business_login_page:{...e9,margin:void 0,textAlign:void 0}},tt={minHeight:"400px",padding:"20px 10px 24px"},to={margin:"0 auto 22px",width:"270px"},ti=(e,t)=>{switch(t){case"boardInvite":return e.bt("Sign up to accept your board invite", "Sign up to accept your board invite", "Sign up copy board invite", undefined, false);case"saveButton":return e.bt("Регистрирайте се, за да видите още", "Sign up to see more", "signup copy save button", undefined, true);case"saveButtonExp":return e.bt("Присъединете се към Pinterest, за да запазите тази идея", "Join Pinterest to save this idea", "FullPageSignup.signupTagline.save", undefined, true);case"homePage":return e.bt("Добре дошли в Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Регистрирайте се, за да запазите този пин!", "Sign up to save this Pin!", "signup copy save button from third party website", undefined, true);case"downloadImageBtnDweb":return e.bt("Никога повече няма да губите идеите си! Регистрирайте си акаунт", "Never lose track of your ideas again! Sign up for an account", "mweb.unauth.download_modal.download_value_prop", undefined, true);case"downloadImageBtnUnauth":return e.bt("Регистрирайте се, за да изтеглите", "Sign Up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true);case"followButton":return e.bt("Присъединете се към Pinterest, за да следвате", "Join Pinterest to follow", "mweb.unauth.follow_modal.follow_value_prop", undefined, true);default:return e.bt("Регистрирайте се, за да видите още", "Sign up to see more", "sigup copy default includes pin click and scrolling", undefined, true)}},ts=(e,t)=>{switch(t){case"boardInvite":return e.bt("Влезте, за да приемете поканата си за табло", "Log in to accept your board invite", "Login copy board invite", undefined, true);case"homePage":return e.bt("Добре дошли в Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Регистрирайте се, за да запазите този пин!", "Sign in to save this Pin!", "Login copy save button from third party website", undefined, true);default:return e.bt("Влезте, за да видите повече", "Log in to see more", "Title on desktop login modal", undefined, true)}};function ta({container:e,savePinId:t,customLoginTagline:o,customSignupTagline:i,handleCloseButtonClick:c,handleShowingSignupWelcomeLoading:d,handleSsoRedirect:_,hideAccountSwitchValueProp:u,inviter:h,isAccountSwitch:b=!1,isBusiness:v,nextUrlParam:k,removeSignupLoginToggleFooter:A,renderBusinessCreateButton:z,showCloseIcon:j,showResponseMessageModal:C,signupRedirectUrl:T,signupSource:L="defaultSource",suppressFocus:I,toggleType:R="DEFAULT_TOGGLE",signupFlow:B,attributionLabel:F,onRedirectToSignup:N}){let V=(0,f.B)(),D=(0,y.ZP)(),{viewer:{info:W,type:G}}=(0,p.B$)(),H=(0,r.Z)(),$=(0,w.Z)(),{checkExperiment:Y}=(0,Z.F)(),[q,X]=(0,s.useState)(!1),[K,Q]=(0,s.useState)(!1),[J,ee]=(0,s.useState)(!1),[et,eo]=(0,s.useState)("signup"===(0,e8.Z)().type?{type:"signup"}:B),[ei,es]=(0,s.useState)(""),[ea,el]=(0,s.useState)(""),{trackConversionUpsell:en}=(0,P.Z)(),[er,ec]=(0,s.useState)(!1),ed=(0,x.Z)(G),{username:e_}=(0,a.UO)(),eu=(0,e7.cm)(),eh=e_?eu(e_):null,ep="commentComposer"===L,em="login"===et.type?14212:14214,[ex,ey]=(0,s.useState)(em),ef=Y("dweb_unauth_remove_fb_signup_iteration").anyEnabled,eb=Y("dweb_unauth_fb_login_account_recovery_flow").anyEnabled,ew=Y("dweb_unauth_fb_login_dynamic_banner").group,[eP,ev]=(0,s.useState)(!1),eE="revamped_business_login_page"===e,ej=(0,e5.w)("FullPageSignup");(0,s.useEffect)(()=>((0,M.My)(`unauth.authentication_modal.shown.${R}.${et.type}`),()=>{b&&((0,e2.Z)("add_account_dismiss",null,e),e4(e))}),[]);let eT=(0,s.useRef)(et.type);(0,s.useEffect)(()=>{eT.current!==et.type&&(eT.current=et.type,(0,M.My)(`unauth.authentication_modal.shown.${R}.${et.type}`))});let eL=(0,s.useRef)(B);(0,s.useEffect)(()=>{eL.current.type!==B.type&&(eL.current=B,eo(B))});let eZ=te[e]??e9,eI=()=>k?decodeURIComponent(k):k,eR=e=>eI()?(0,e6.Z)(e,{next:eI()}):e,eB=e=>eo({type:"EmailCollection",registrationCredentials:e}),eU=e=>eo({type:"socialSignupWithAge",registrationCredentials:e}),eN=e=>eo({type:"consents",registrationCredentials:e}),eW=(e,t)=>eo({type:"loginMfa",creds:e,phoneNumberEnd:t?.phoneNumberEnd||void 0}),eG=e=>{(0,M.My)(`unauth.personalized_login.prevent_register.${e}`),ec(!0),Q(!1),eo({type:"signup"})},eH=()=>{$({action:"click",item:"login-switch-account",within:"personalized-login"}),(0,M.NC)("click_change_signin_account"),H({aux_data:ed,element:10879,event_type:101}),en({eventType:14689,element:10879})},eX=e=>{(0,M.My)(`unauth.authentication_modal.${e}.${R}.${et.type}`)},eQ=e=>{eX("login_toggle_click"),(0,M.NC)("click_toggle_login"),$({action:"click",item:"login-button"}),en({eventType:14689,element:13914}),eo({type:"login",email:e?.email}),ey(14212),en({eventType:14688,component:14212,element:13914,upsellReason:F,incrementUpsellReasonCounter:!1}),X(!1)},e1=({email:e})=>{if(eX("signup_toggle_click"),(0,M.NC)("click_toggle_signup"),en({eventType:14689,element:13913}),T){(0,n.Z)(T,!1);return}ey(14214),en({eventType:14688,component:14214,element:13913,upsellReason:F,incrementUpsellReasonCounter:!1}),eo({type:"signup",email:e})},e3=({email:e})=>(0,g.jsx)(l.iP,{fullWidth:!1,onTap:t=>{let o={event_type:101,element:10880};v?H(o):(t.event.preventDefault(),$({action:"click",item:"signup-toggle-button",within:"personalized-login"}),H({...o,aux_data:ed}),e1({email:e}))},children:(0,g.jsx)(l.xv,{align:"center",size:"200",weight:"bold",children:(0,g.jsx)(l.xu,{"data-test-id":"need-account-link",children:(0,g.jsx)(l.rU,{href:v?eR("/business/create"):"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:D.bt("Трябва ви акаунт? Регистрирайте се сега", "Need an account? Sign up now", "Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account", undefined, true)})})})}),ta=ef?eP:void 0,tl=ef?()=>{(0,M.My)("remove_fb_signup.dweb_login_form"),Q(!1),ev(!0)}:void 0,tn=j&&(0,g.jsx)(ez.Z,{onClick:c});if(J&&["signup","login","socialSignupWithAge"].includes(et.type))return(0,g.jsx)(e0.Z,{});switch(et.type){case"signup":case"respondMessage":{let o=q?D.bt("Welcome back to Pinterest!", "Welcome back to Pinterest!", "welcoming user back to pinterest in signup modal when we recognize their email", undefined, false):i||ti(D,L),a=h&&!h.is_default_image?h:null,n=(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:to},width:"login_page"!==e?400:void 0,children:(0,g.jsx)(eF,{container:e,modalType:"signup",titleText:a&&("respondMessage"===B.type?(D.bt("Регистрирайте се и кажете на {{ name }} какво мислите", "Sign up and let {{ name }} know what you think", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",a.first_name||a.full_name):(D.bt("Присъединете се към {{ name }} в Pinterest за още идеи", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",a.first_name||a.full_name))||(["login_page","home_page","save","download","follow"].includes(e)?o:void 0!==ej?ej:D.bt("Неограничен безплатен достъп до най-добрите идеи на света", "Unlimited free access to the world's best ideas", "FullPageSignup.signupTitle.save", undefined, true))})});return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eZ},"data-test-id":"signup-default-modal",width:484,children:[K&&(0,g.jsx)(eY.Z,{}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:a?{minHeight:"400px",padding:"30px 10px 20px"}:tt},children:[tn,a?(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:108,children:(0,g.jsx)(eC.qE,{name:a.first_name||a.full_name,src:a.image_medium_url,verified:"respondMessage"===B.type})}),n]}):(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(eM,{container:e,fallback:(0,g.jsx)(eO,{large:"homePage"!==L}),savePinId:t,signupSource:L,user:eh}),n,(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:to},children:!q&&(0,g.jsx)(l.xu,{marginBottom:4,marginTop:-4,children:(0,g.jsx)(l.xv,{align:"center",size:"300",children:"login_page"!==e&&"home_page"!==e&&"save"!==e&&"download"!==e&&"follow"!==e?o:"downloadImageBtnDweb"===L&&D.bt("Открийте по-добър начин да пазите идеите си организирани", "Discover a better way to keep your ideas organized", "mweb.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"downloadImageBtnUnauth"===L&&D.bt("Изтеглете това изображение и още с акаунт в Pinterest", "Download this image and more with a Pinterest Account", "web.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"followButton"===L&&(0,e$.nk)(D.bt("Създайте акаунт, за да следвате {{ creatorName }}", "Create an account to follow {{ creatorName }}", "mweb.unauth.signup_modal.follow_value_prop_subheader", undefined, true),{creatorName:eh?.full_name})||"homePage"===L&&D.bt("Намерете нови идеи, които да изпробвате", "Find new ideas to try", "Value prop on desktop signup modal on home page", undefined, true)||"saveButtonExp"===L&&D.bt("Неограничен безплатен достъп до най-добрите идеи на света", "Unlimited free access to the world's best ideas", "FullPageSignup.signupSubTitle.saDDve", undefined, true)||D.bt("Откритията започват тук", "Discovery starts here", "Pinterest value proposition on desktop login modal", undefined, true)})})})]}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center",margin:"0 auto"}},"data-test-id":"signup-options",position:"relative",children:(0,g.jsx)(eg,{additionalChildren:!A&&(0,g.jsx)(S,{layout:"NOT_NOW_BUTTON"===R&&"SIGNUP_LARGE"||"home_page"===e&&"SIGNUP_SMALL"||"SIGNUP_DEFAULT",onClick:()=>eQ({email:et.email}),shouldHideBusinessCreateFooterLink:!!z,type:"signupToLogin"}),attributionLabel:F,birthday:ea,component:ex,container:e,disablePostSignupNextUrl:!k,email:et.email??"",handleSsoRedirect:_,loadingIndicatorCallback:Q,nextUrlParam:eI(),onBirthdayUnderage:({birthday:e,email:t})=>{eo({type:"UnderageConfirmation",birthday:e,email:t})},onConsentStepNeeded:eN,onFBMissingEmail:eB,onFBPhoneOnlyConnectVerified:eB,onLoginWithMfa:eW,password:ei,setBirthday:el,setEmail:e=>eo((et.type,{...et,email:e})),setPassword:es,showResponseMessageModal:"respondMessage"===B.type?C:void 0,showSignupWelcomeLoadingFn:e=>{ee(e),d&&d(e)},signupSource:L,suppressFocus:I,switchToSocialSignupWithAgeFlow:eU})})]}),z&&z()]})}case"login":{if(!er&&!b&&W&&"AUTH"!==G&&"bottom.right.upsell.email"!==e){let t=W.hasPassword||W.connectedToFacebook||W.connectedToGoogle;return(0,g.jsx)(eJ,{email:et.email??"",footer:e3({email:et.email}),handleNotYouClick:()=>{ec(!0),eH()},header:(0,g.jsxs)(s.Fragment,{children:[K&&(0,g.jsx)(eY.Z,{}),tn]}),noBoxShadow:"pinBookmarklet"===e,title:(0,g.jsx)(eF,{container:e,modalType:"personalizedLogin",titleText:(0,e$.nk)(D.bt("Добре дошли отново, {{name}}!", "Welcome back, {{name}}!", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:W?W.firstName:""}).join("")}),viewerInfo:W,children:(0,g.jsx)(eD.ZP,{attributionLabel:F,component:ex,container:e,disableFBSignup:tl,disablePostSignupNextUrl:!k,email:W.email,facebookLoginDynamicBannerExpGroup:ew,hideEmailField:!0,hideFacebookButton:t&&!W.connectedToFacebook,hideGoogleButton:t&&!W.connectedToGoogle,hideLineButton:t,hidePasswordField:t&&!W.hasPassword,hideTermsOfService:!0,inFacebookLoginRecoverExperiment:eb,loadingIndicatorCallback:Q,loginButtonTextOverride:D.bt("Продължи", "Continue", " - ", undefined, true),nextUrlParam:eI(),onEmailChange:()=>{},onLoginWithMfa:eW,requestContext:V,shouldHideFBButtonForSignup:ta,showResponseMessageModal:"respondMessage"===B.type?C:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eG}})})}let t=ep?D.bt("Влезте, за да коментирате", "Log in to comment", "dweb.unauth.comment_compose.upsell_tagline", undefined, true):o||ts(D,L),i=(0,g.jsx)(l.xu,{bottom:!0,color:"secondary",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 32px 32px"}},height:62,left:!0,width:"100%",children:(0,g.jsx)(l.iP,{fullHeight:!0,onTap:()=>{(0,n.Z)((0,e6.Z)("/login",{}),!0),(0,M.My)("unauth.business.login_personal_account.click"),H({event_type:101,component:13096,element:10773,aux_data:{is_revamped_business_login:!0}})},children:(0,g.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,g.jsx)(l.xv,{weight:"bold",children:D.bt("Влезте в личен акаунт", "Log in to a personal account", "bizsite.revampSignup.redirectToPersonalAccountLogin", undefined, true)})})})});return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eZ},"data-test-id":"login-modal-default",width:eE?480:484,children:[K&&(0,g.jsx)(eY.Z,{}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{...tt,...eE?{padding:"40px"}:{}}},children:[tn,eP&&ef&&(0,g.jsx)(eS.Z,{}),(eb||ew)&&(0,g.jsx)(eA.Z,{facebookLoginDynamicBannerExpGroup:ew}),!eE&&(0,g.jsx)(eO,{large:"homePage"!==L}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:eE?{...to,width:void 0,marginBottom:"40px"}:to},width:["login_page","revamped_business_login_page"].includes(e)?void 0:400,children:(0,g.jsx)(eF,{container:e,modalType:"login",titleText:t})}),b&&!u&&(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:to},children:(0,g.jsx)(l.xu,{marginBottom:8,marginTop:-4,children:(0,g.jsx)(l.xv,{align:"center",size:"300",children:D.bt("Имате друг акаунт в Pinterest? Влезте, за да превключвате лесно между тях", "Have another Pinterest account? Log in to easily switch between them", "Subtitle on the login modal that explains to a user why they would add an additional account to their profile", undefined, true)})})}),(0,g.jsx)(eD.ZP,{attributionLabel:F,component:ex,container:e,disableFBSignup:tl,disablePostSignupNextUrl:!k,email:et.email,facebookLoginDynamicBannerExpGroup:ew,handleSsoRedirect:_,inFacebookLoginRecoverExperiment:eb,isAccountSwitch:b,loadingIndicatorCallback:Q,nextUrlParam:eI(),onEmailChange:e=>eo({...et,email:e.target.value}),onFBPhoneOnlyConnectVerified:eB,onLoginWithMfa:eW,onRedirectToSignup:N,requestContext:V,shouldHideFBButtonForSignup:ta,showResponseMessageModal:"respondMessage"===B.type?C:void 0,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:eU}}),v?!eE&&(0,g.jsxs)(l.kC,{alignItems:"center",direction:"column",children:[(0,g.jsx)(m,{}),(0,g.jsx)(l.xv,{size:"100",weight:"bold",children:(0,g.jsx)(l.rU,{href:eR("/business/create"),children:D.bt("Създаване на нов акаунт", "Create new account", "Link to the page to create a new business account instead of logging in", undefined, true)})})]}):!b&&!A&&(0,g.jsx)(S,{layout:"NOT_NOW_BUTTON"===R&&"LOGIN_INLINE"||"SMALL_TOGGLE"===R&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{e1({email:et.email})},type:"loginToSignup"})]}),eE&&i]})}case"loginMfa":return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:eZ},"data-test-id":"login-modal-mfa",width:489,children:(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:tt},children:[tn,(0,g.jsx)(eO,{}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...to,padding:"0 10px"}},width:"100%",children:(0,g.jsx)(eF,{container:e,modalType:"loginMfa",titleText:D.bt("Изисква се двуфакторно удостоверяване", "Two-factor authentication required", "desktopLoginModal.2fa.title", undefined, true)})}),(0,g.jsx)(eq,{container:e,creds:et.creds,isAccountSwitch:b,nextUrlParam:eI(),phoneNumberEnd:et.phoneNumberEnd})]})});case"socialSignupWithAge":return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:eZ},"data-test-id":"birthday-collection-modal",minHeight:"0",children:(0,g.jsx)(O,{disablePostSignupNextUrl:!k,handleLoginToggleButtonClick:eQ,loadingIndicatorCallback:Q,nextUrlParam:eI(),registrationCredentials:et.registrationCredentials,showResponseMessageModal:"respondMessage"===B.type?C:void 0})});case"EmailCollection":{let e=()=>{eo({type:"signup",email:et.registrationCredentials.signupOptions.email}),Q(!1)},t=({email:e})=>eo({type:"EmailAlreadyExist",email:e});return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"line"===et.registrationCredentials.type?"signup-modal-line-phone-only":"signup-modal-facebook-phone-only",minHeight:400,children:[K&&(0,g.jsx)(eY.Z,{}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:tt},children:[tn,(0,g.jsx)(eO,{}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:to},width:310,children:(0,g.jsx)(l.X6,{size:"600",children:D.bt("Какъв е вашия имейл адрес?", "What's your email address?", "Prompt for email address in after sign in with line", undefined, true)})}),"line"===et.registrationCredentials.type?(0,g.jsx)(eV,{loadingIndicatorCallback:Q,nextUrlParam:k,onNotNowClick:e,registrationCredentials:et.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:eU}):(0,g.jsx)(ek,{loadingIndicatorCallback:Q,nextUrlParam:k,onConsentStepNeeded:eN,onNotNowClick:e,registrationCredentials:et.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:eU})]})]})}case"EmailAlreadyExist":return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eK},"data-test-id":"login-modal-existing-email",children:[K&&(0,g.jsx)(eY.Z,{}),(0,g.jsx)(eO,{}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:to},maxHeight:120,overflow:"hidden",width:350,children:(0,g.jsx)(eF,{container:e,modalType:"personalizedLogin",titleText:(0,e$.nk)(D.bt("Изглежда вече сте в Pinterest", "Looks like you're already on Pinterest", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:W?W.firstName:""}).join("")})}),(0,g.jsx)(l.xu,{marginBottom:3,children:(0,g.jsx)(l.xv,{align:"center",children:et.email})}),(0,g.jsx)(eD.ZP,{attributionLabel:F,component:ex,container:e,disableFBSignup:tl,disablePostSignupNextUrl:!k,email:et.email,facebookLoginDynamicBannerExpGroup:ew,hideEmailField:!0,hideFacebookButton:!0,hideLineButton:!0,hideTermsOfService:!0,inFacebookLoginRecoverExperiment:eb,loadingIndicatorCallback:Q,loginButtonTextOverride:D.bt("Продължи", "Continue", " - ", undefined, true),nextUrlParam:eI(),onEmailChange:()=>{},onLoginWithMfa:eW,requestContext:V,shouldHideFBButtonForSignup:ta,showResponseMessageModal:"respondMessage"===B.type?C:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eG}}),(0,g.jsx)(l.xu,{paddingY:5,children:(0,g.jsx)(l.iz,{})}),(0,g.jsx)(l.xu,{"data-test-id":"login-switch-account",children:(0,g.jsx)(l.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),eo({type:"login"}),ec(!0),eH()},children:(0,g.jsx)(l.xv,{align:"center",size:"200",weight:"bold",children:(0,g.jsx)(l.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:D.bt("Не сте вие? Влизане с различен акаунт", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,g.jsx)(l.xu,{marginBottom:4,marginTop:1,children:e3({email:et.email})}),tn]});case"UnderageConfirmation":return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:eZ},"data-test-id":"underage-confirmation-modal",children:(0,g.jsx)(E.Z,{birthday:et.birthday,onEditBirthday:()=>{eo({type:"signup",email:et.email}),Q(!1)}})});case"consents":return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eZ},"data-test-id":"consents-step-modal",width:484,children:[tn,(0,g.jsx)(U,{disablePostSignupNextUrl:!k,nextUrlParam:eI(),onBackButtonClick:()=>{eo({type:"signup",email:"email"===et.registrationCredentials.signupOptions.type?et.registrationCredentials.signupOptions.email:""})},onBirthdayUnderage:({birthday:e,email:t})=>{eo({type:"UnderageConfirmation",birthday:e,email:t})},registrationCredentials:et.registrationCredentials})]});default:return null}}},221386:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),s=o(144326),a=o(730212),l=o(785893);let n=({onClick:e,zIndex:t})=>{let o=(0,a.B)(),n=(0,s.ZP)();return(0,l.jsx)(i.xu,{"data-test-id":"full-page-signup-close-button",display:"block",height:40,left:o.isRTL,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!o.isRTL,top:!0,width:40,zIndex:t?new i.Ry(t):void 0,children:(0,l.jsx)(i.hU,{accessibilityLabel:n.bt("затваряне", "close", "accessible label for close button", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:e,size:"md"})})}},57814:(e,t,o)=>{o.d(t,{Z:()=>z});var i=o(667294),s=o(883119),a=o(28352),l=o(337584),n=o(610687),r=o(151143),c=o(214694),d=o(395225),_=o(35652),u=o(993640),h=o(144326),p=o(654381),g=o(267005),m=o(894789),x=o(391731),y=o(260134),f=o(76367),b=o(765963),w=o(297728),P=o(730212),v=o(1006),k=o(969119),A=o(785893);let S=({container:e,isAccountSwitch:t,nextUrlParam:o,onLoginWithMfa:n,onLoginWithSuspended:S,onLoginWithVoluntarilyDeactivated:z,showResponseMessageModal:E,socialSignupCallbacks:j,tooltip:C,showLoginRateLimited:T,onClick:L,logoCentered:Z=!1,buttonStatic:I=!1,handleGoogleConnectResponseOverride:R})=>{let{viewer:{type:M}}=(0,a.B$)(),B=(0,d.Z)(),O=(0,u.lO)(),F=(0,h.ZP)(),{checkExperiment:U}=(0,w.F)(),N=(0,y.M)(),V=(0,i.useRef)(null),{locale:D}=(0,P.B)();return(0,k.Z)(()=>(window.googleConnectButtonContainer=e||"",()=>{delete window.googleConnectButtonContainer})),(0,k.Z)(()=>{let i=({credential:i,select_by:s})=>{if(R){R();return}let a=(0,x.mK)((0,x.PL)(s));B({creds:{google_open_id_token:i},loggingOptions:{loggingData:{container:window.googleConnectButtonContainer,page:O?.pageType,trigger:a},loginAttemptContextEvent:{event_type:7534,element:12981,aux_data:{...(0,_.Z)(M),signup_login_method:b.Z.GPLUS}}},isAccountSwitch:t}).then(i=>{let s=i?.resource_response.data?.user;t&&s&&(0,p.Z)(s,"google",e),E?E(!1):f.ZP.handleRedirect(o||f.ZP.defaultSocialLoginRedirectUrl()),U("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,c.Z)()},e=>{switch(g.ik.includes(e.api_error_code??0)&&T?.(),e.api_error_code){case g.E6:z?.(e.message);break;case g.Zn:n?.({google_open_id_token:i},{phoneNumberEnd:e.data?.phone_number_end});break;case g.xN:if("ACCOUNT_RECOVERY"===j.type)j.switchToAccountRecoverySignupFlow("google");else{(0,v.Rp)({event:"start",provider:"google"});let e=(0,m.Z)(i),t={container:window.googleConnectButtonContainer,page:O?.pageType,trigger:a},o={type:"google",google_open_id_token:i,first_name:e.given_name,last_name:e.family_name,image_url:e.picture};j.switchToSocialSignupWithAgeFlow({type:"google",context:t,signupOptions:{...o}})}break;case g.iU:(0,l.x)(e.message||"");break;default:e.api_error_code===g.an&&S?S():(0,l.x)(F.bt("За съжаление, не можете да влезете.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true))}})};return(async()=>{await N?.ensureInit("button",i),(0,x.ru)({buttonRef:V,locale:D,isDesktop:!0,logo_alignment:Z?"center":"left",onClick:L})})(),()=>{N?.removeButtonCallback(i)}}),(0,A.jsxs)(s.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,A.jsx)(s.xu,{height:44,children:(0,A.jsx)(s.xu,{ref:V,position:I?"static":"absolute",width:"100%"})}),!!C&&(0,A.jsx)(r.Z,{anchor:V.current,message:C})]})};function z(e){let{checkExperiment:t}=(0,w.F)(),{anyEnabled:o}=t("web_google_disabled");return o?(0,A.jsx)(n.Z,{tooltip:e.tooltip}):(0,A.jsx)(S,{...e})}},610687:(e,t,o)=>{o.d(t,{Z:()=>_});var i=o(667294),s=o(883119),a=o(899153),l=o(151143),n=o(144326),r=o(323437),c=o(976534),d=o(785893);function _(e){let t=(0,n.ZP)(),{tooltip:o,onClick:_,textOption:u}=e,[h,p]=(0,i.useState)(),g=!!(0,c.Z)().from_login,m=(0,i.useRef)(null),x=(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(s.xu,{height:24,marginTop:1,width:24,children:(0,d.jsx)(r.Z,{size:20})}),(0,d.jsx)(s.xu,{marginStart:2,children:(0,d.jsxs)(s.xv,{weight:"bold",children:["alternativeAuth"===u&&t.bt("Свързване на акаунт с Google", "Link account to Google", "googleSocialConnectButtonWithDisabledSDK.buttonText", undefined, true),"accountRecovery"===u&&t.bt("Настройване на данни за влизане в Google", "Set up Google login", "unauthGoogleConnectButtonForAccRecovery.buttonText", undefined, true),!u&&t.bt("Свързване с Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)]})})]});return(0,d.jsxs)(s.xu,{ref:m,"data-test-id":"google-connect-button",position:"relative",children:[(0,d.jsx)(s.iP,{onTap:_?_():()=>p(!0),children:"alternativeAuth"===u?(0,d.jsx)(s.xu,{alignItems:"center",borderStyle:g?"sm":void 0,color:"default",display:"flex",height:44,justifyContent:"center",marginTop:2,paddingX:4,position:"relative",rounding:5,width:"100%",children:x}):(0,d.jsx)(s.xu,{alignItems:"center",borderStyle:g?"sm":void 0,color:"secondary",display:"flex",height:"accountRecovery"===u?48:40,justifyContent:"center",marginTop:2,position:"relative",rounding:5,width:"100%",children:x})}),!!o&&(0,d.jsx)(l.Z,{anchor:m.current,message:o}),h&&(0,d.jsx)(a.Z,{onDismiss:()=>p(!1),type:"google"})]})}},706499:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(883119),s=o(703454),a=o(144326),l=o(754143),n=o(785893);let r=({useDefaultText:e})=>{let{limitedLoginModalSubheader:t}=(0,l.H)(),o=(0,a.ZP)();return(0,n.jsx)(i.xv,{align:"center",overflow:"normal",children:e||!t?(0,s.lt)(o):t.text})}},545321:(e,t,o)=>{o.d(t,{OL:()=>q,ZP:()=>K});var i=o(667294),s=o(616550),a=o(883119),l=o(573706),n=o(477058),r=o(955937),c=o(345423),d=o(671808),_=o(28352),u=o(337584),h=o(670618),p=o(57814),g=o(363517),m=o(555086),x=o(830997),y=o(395225),f=o(35652),b=o(993640),w=o(602185),P=o(400416),v=o(144326),k=o(635284),A=o(774980),S=o(654381),z=o(267005),E=o(780462),j=o(76367),C=o(765963),T=o(988700),L=o(371041),Z=o(621604),I=o(730212),R=o(343544),M=o(750077),B=o(635258),O=o(1006),F=o(154785),U=o(896612),N=o(404335),V=o(615336),D=o(26456),W=o(785893);function G(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let H=(0,i.lazy)(()=>o.e(27821).then(o.bind(o,727821))),$=B.lfe,Y="loginmodal",q="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1";class X extends i.Component{constructor(e){super(e),G(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),G(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e&&e(!1),this.setState({accountRecoveryModalType:c.w[z.an],loading:!1})}),G(this,"onloadCallback",()=>{try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:q,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:q,callback:"verifyCaptcha"})}catch(e){}}),G(this,"handleButtonClick",async(e,t)=>{let{authenticateWithSso:o,desktopCoreLoginContext:{viewer:i},email:s,handleSsoRedirect:a,history:l,logContextEvent:n}=this.props,{isSsoEmail:r,exchangeCodeToTokenUrl:c,existingUserSso:d,existingUserIsSso:_,ssoAuthorizationUri:u}=this.state;if(r){if(!d&&s){a&&a(),(0,T.i)(s,l);return}if(_){n({event_type:101,element:14367,aux_data:{...(0,f.Z)(i.type),signup_login_method:C.Z.SSO}}),o({callbacks:{success:e=>{let{authCode:o}=e;s&&o&&this.loginUser("sso",{sso_user_email:s??"",sso_auth_code:o},t)},error:e=>{(0,O.My)(`unauth.login.sso.error.${Y}`,{code:e.api_error_code,message:e.message}),this.handleLoginFailure("sso",{api_error_code:0},{sso_user_email:"",sso_auth_code:""})}},exchangeCodeToTokenUrl:c,isLogin:!0,modalUrl:u??""});return}}n({event_type:101,element:30,aux_data:{...(0,f.Z)(i.type),signup_login_method:C.Z.EMAIL}}),this.setState({googleValidationError:null,hideFBGoogleToolTip:!1});let h=(0,V.Z)(this.props.email??"",this.emailValidators);if(h)this.setState({emailValidationError:h}),(0,O.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${Y}`);else{this.setState({emailValidationError:null}),h=await (0,V.U)(this.props.password,this.passwordValidators);let e=(0,V.Z)(this.props.password,this.asciiValidators);h?(this.setState({passwordValidationError:h}),(0,O.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${Y}`)):e?(this.setState({passwordValidationError:e}),(0,O.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${Y}`)):(this.setState({passwordValidationError:null}),this.loginUser("email",void 0,t))}}),G(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),G(this,"loadRecaptchaView",()=>{if("undefined"!=typeof document&&document.head){if(document.getElementById("recaptcha-jssdk"))this.onloadCallback();else{let e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}}}),G(this,"handleLoginFailure",(e,t,o)=>{let{email:i,i18n:s,loadingIndicatorCallback:a,setPassword:l}=this.props;(0,O.My)(`unauth.login.error.LOGIN_FAILURE.${e}`),a(!1),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token();let n=t.http_status||t.httpStatus,r=n===R.Ej?R.Ej:t.api_error_code;if(r===z.Zn){j.ZP.handleLoginMfa(o,{phoneNumberEnd:t.data?.phone_number_end},this.props.onLoginWithMfa);return}if(n===R.Ej&&r===z.bd&&t.message&&"!"!==t.message[t.message.length-1]&&!j.ZP.isExceedRecaptchaLocalLimit()||r===z._K&&n===R.AB&&!j.ZP.isExceedRecaptchaLocalLimit()){this.loadRecaptchaView(),this.setState({passwordValidationError:s.bt("Грешка! Влязохте твърде бързо. Опитайте отново с reCAPTCHA.", "Oops! You logged in too quickly. Please try again with the reCAPTCHA.", "Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha", undefined, true),loading:!1});return}if(n===R.Rl&&r===z.nY){this.setState({passwordValidationError:s.bt("Вашият акаунт е свързан с Facebook – използвайте бутона Facebook за влизане", "Your account is connected to Facebook - use the Facebook button to log in", "Customized desktop login for users with Facebook", undefined, true),loading:!1});return}let d=(0,E.Z)({error:t,source:"login",onClickPasswordReset:()=>{(0,O.My)("unauth_password_reset_link_tapped"),(0,P.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i}}).then(()=>this.updateAccountRecoveryModal(j.Ny.PASSWORD_RESET_SENT))}});d?(this.setState({...d,accountRecoveryModalType:r?c.w[r]:void 0,loading:!1}),d.passwordValidationError&&l("")):((0,O.My)("unauth.login.error.LOGIN_FAILURE.unknow_error",{loginMethod:e,error:t}),(0,u.x)(s.bt("Съжаляваме! Нещо се обърка от наша страна.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setState({loading:!1}))}),G(this,"verifyCaptcha",()=>{let e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);j.ZP.updateRecaptchaTimeStamp(),this.handleButtonClick(void 0,e),j.ZP.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))}),G(this,"handleEmailChange",e=>{this.props.onEmailChange&&this.props.onEmailChange(e),this.debouncedCheckIfSsoUser(),this.setState({hideFBGoogleToolTip:!0})}),G(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)}),G(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:t}=this.props,o=await t(e??"");this.setState({exchangeCodeToTokenUrl:o.exchangeCodeToTokenUrl??"",isSsoEmail:o.isSso,existingUserSso:!!o.existingUser,existingUserIsSso:!!o.existingUserIsSso,ssoAuthorizationUri:o.authorizationUri??""})}),G(this,"debouncedCheckIfSsoUser",(0,r.Z)(()=>{(0,V.Z)(this.props.email??"",this.emailValidators)?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),G(this,"handleBlur",()=>{this.setState({googleValidationError:null});let e=(0,V.Z)(this.props.email??"",this.asciiValidators);e&&(0,O.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${Y}`),(e=(0,V.Z)(this.props.password,this.asciiValidators))&&(0,O.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${Y}`)}),G(this,"renderSocialButtons",()=>{let{disablePostSignupNextUrl:e,hideFacebookButton:t,hideLineButton:o,hideGoogleButton:s,isAccountSwitch:l,isPersonalizedLoginFlyout:n,inFacebookLoginRecoverExperiment:r,facebookLoginDynamicBannerExpGroup:c,loadingIndicatorCallback:d,nextUrlParam:_,onLoginWithMfa:u,onFBPhoneOnlyConnectVerified:g,onFBMissingEmail:m,shouldHideFBButtonForSignup:x,disableFBSignup:y,container:f="unknown",socialSignupCallbacks:b,showResponseMessageModal:P,isLineAuthenticationEnabled:v,trackConversionUpsell:k,requestContext:A}=this.props,{hideFBGoogleToolTip:S}=this.state,z="ACCOUNT_RECOVERY"===b.type?{...b,type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:e=>{"facebook"===e?this.updateAccountRecoveryModal(j.Ny.PREVENT_FACEBOOK_REGISTER):"google"===e&&this.updateAccountRecoveryModal(j.Ny.PREVENT_GOOGLE_REGISTER),b.switchToAccountRecoverySignupFlow(e)}}:b,E=e=>{k({element:e,eventType:14689})},C=A.experimentsClient.checkExperiment("dweb_unauth_remove_fb_login_button").anyEnabled,T=A.experimentsClient.checkExperiment("dweb_unauth_remove_fb_signup_iteration").anyEnabled&&x,L=!(r||c||C||T||t)&&(0,W.jsx)(h.Z,{container:f,disableFBSignup:y,disablePostSignupNextUrl:e,isAccountSwitch:l,loadingIndicatorCallback:d,nextUrlParam:_,onClick:()=>{E(13505)},onFBMissingEmail:m,onFBPhoneOnlyConnectVerified:g,onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(j.Ny.RATE_LIMITED),showResponseMessageModal:P,socialSignupCallbacks:z,tooltip:null}),Z=!s&&(0,W.jsx)(p.Z,{container:f,isAccountSwitch:l,logoCentered:"revamped_business_login_page"===f,nextUrlParam:_,onClick:()=>{E(13504)},onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(j.Ny.RATE_LIMITED),showResponseMessageModal:P,socialSignupCallbacks:z,tooltip:!S&&"string"==typeof this.state.googleValidationError&&this.state.googleValidationError||null}),I=!o&&v&&(0,W.jsx)(w.Z,{name:"SafeSuspense_LineConnectButton",children:(0,W.jsx)(M.Z,{children:(0,W.jsx)(H,{container:f,isAccountSwitch:l,loadingIndicatorCallback:d,nextUrlParam:_,onClick:()=>{E(13507)},onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(j.Ny.RATE_LIMITED),showResponseMessageModal:P,socialSignupCallbacks:z})})}),R=t||s?"0px":"8px";return(0,W.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:n?"9px":"10px"}},"data-test-id":"login-options",children:[L,!(C||r||c)&&(0,W.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{height:n?R:"10px"}}}),Z,!o&&v&&(0,W.jsxs)(i.Fragment,{children:[(0,W.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{height:n?R:"10px"}}}),I]})]})}),G(this,"renderRegisterForm",()=>{let{container:e,disableEmailLogin:t,email:o,hideEmailField:s,hideFacebookButton:l,hideGoogleButton:n,hidePasswordField:r,i18n:c,isAccountSwitch:d,loginButtonTextOverride:_,password:u,suppressFocus:h,logContextEvent:p,requestContext:{isRTL:m,experimentsClient:x},desktopCoreLoginContext:{viewer:y},viewType:b,viewParameter:w,component:P,attributionLabel:v}=this.props,{emailValidationError:k,loading:A,passwordValidationError:S,isSsoEmail:z,existingUserSso:E,existingUserIsSso:j}=this.state,C=z&&(!E||E&&j),T=_||c.bt("Влизане", "Log in", "Copy on the button to log in", undefined, true);C&&(T=c.bt("Продължаване с SSO", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true));let L=S&&(0,i.isValidElement)(S)?null:(0,W.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{float:m?"right":"left"}},marginBottom:3,marginTop:2,children:(0,W.jsx)(a.xv,{size:"200",weight:"bold",children:(0,W.jsx)(a.rU,{href:$+(o?`?ue=${o}`:""),onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,O.My)("login_modal_forget_account"),(0,O.NC)("click_forget_password"),p({event_type:101,element:10881,aux_data:{...(0,f.Z)(y.type)}})},children:"enabled_copy"===x.checkExperiment("dweb_unauth_remove_fb_login_button").group?c.bt("Не можете да влезете в акаунта си?", "Can't get into your account?", "account_recovery_page.link", undefined, true):c.bt("Забравена парола?", "Forgot your password?", "Desktop login modal link for users to recover their account", undefined, true)})})});return(0,W.jsx)(g.Z,{attributionLabel:v,buttonText:T,component:P,container:e,disableEmailLogin:t,email:o,emailText:c.bt("Имейл", "Email", "Placeholder text for email field", undefined, true),emailValidationError:k,hideEmailField:s,hideFacebookButton:l,hideGoogleButton:n,hidePasswordField:r,isSsoEmail:C,loading:A&&!d,onButtonClick:()=>{this.handleButtonClick()},onEmailBlur:this.handleBlur,onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:u,passwordResetLink:L,passwordText:c.bt("Парола", "Password", " - ", undefined, true),passwordValidationError:S,suppressFocus:h,viewParameter:w,viewType:b})}),G(this,"renderOriginalForm",()=>{let{hideFacebookButton:e,hideGoogleButton:t,hidePasswordField:o}=this.props;return(0,W.jsxs)(i.Fragment,{children:[this.renderRegisterForm(),!o&&(!t||!e)&&(0,W.jsx)(d.Z,{}),this.renderSocialButtons()]})}),G(this,"renderButtons",()=>this.renderOriginalForm()),G(this,"renderTextAndLinkToSignup",()=>{let{onRedirectToSignup:e=()=>{}}=this.props;return(0,W.jsxs)(a.xu,{display:"flex",paddingY:6,children:[(0,W.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n.bt("Нямате бизнес акаунт?", "Don’t have a business account?", "businessAccountCreate.signupLink.text", undefined, true)}),(0,W.jsx)(a.xu,{marginStart:1,children:(0,W.jsx)(a.rU,{display:"inlineBlock",href:"#",onClick:({event:t,dangerouslyDisableOnNavigation:o})=>{t.preventDefault(),o(),e()},children:(0,W.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n.bt("Създаване на едно безплатно", "Create one for free", "businessAccountCreate.signupLink.CTA", undefined, true)})},0)})]})}),this.state={accountRecoveryModalType:null,emailValidationError:null,passwordValidationError:null,googleValidationError:null,loading:!1,hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:t}=e,o=t.bt("Пропуснахте едно поле! Не забравяйте да добавите имейла си.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true),s=t.bt("Хм... Това не прилича на имейл адрес.", "Hmm...that doesn't look like an email address.", " - ", undefined, true),l=t.bt("Използвайте само съчетание от букви, цифри и специални знаци (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Login.password.onlyASCII", undefined, true);this.emailValidators=[(0,D.aH)({message:o}),(0,D.GT)({message:s})];let n=t.bt("Паролата, която въведохте, е неправилна.", "The password you entered is incorrect.", " - ", undefined, true);this.passwordValidators=[(0,N.Z)({shortPassStr:n,samePasswordStr:n,blackPassStr:n})],this.asciiValidators=[(0,D.oR)({message:l})]}componentDidMount(){let{isAccountSwitch:e,email:t,nextUrlParam:o,requestContext:i,showResponseMessageModal:s}=this.props;j.ZP.isFullyLoggedIn(i.isAuthenticated,i.loginState)&&!e&&(s?s(!1):j.ZP.handleRedirect(o)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1,t&&this.checkIfSsoUser()}componentWillUnmount(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}loginUser(e,t,o){let{container:i="unknown",email:s,flushContextEvents:a,isAccountSwitch:l,loadingIndicatorCallback:n,login:r,pageContext:c,showResponseMessageModal:d,desktopCoreLoginContext:{viewer:_},requestContext:u}=this.props;this.setState({loading:!0}),n(!0);let h=t||{username_or_email:s||"",password:this.props.password},p={container:i,page:c?c.pageType:void 0},g=C.Z.EMAIL;"facebook"===e?g=C.Z.FACEBOOK:"google"===e?g=C.Z.GPLUS:"sso"===e&&(g=C.Z.SSO),k.Z.pause(A.LU),a(),r({creds:h,loggingOptions:{loggingData:p,loginAttemptContextEvent:{event_type:7534,element:"google"===e?12981:void 0,aux_data:{...(0,f.Z)(_.type),signup_login_method:g}}},isAccountSwitch:l,recaptchaV2Token:o,recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then((e={})=>{j.ZP.storeLoginCredentialsToBrowser(h);let t=this.props.nextUrlParam||j.ZP.defaultLoginRedirectUrl(),{anyEnabled:o}=u.experimentsClient.checkExperiment("m10n_measurement_pinterest_tag_us");if(o&&"undefined"!=typeof window&&window.pintrk)try{window.pintrk("track","custom",{lead_type:"Pinterest Login",em:s})}catch(e){}if(l&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){let{user:o}=e.resource_response.data;(0,S.Z)(o,"email",i),t="/"+o.username}else j.ZP.storeLoginCredentialsToBrowser(h);d?d(!1):j.ZP.handleRedirect(t)},t=>this.handleLoginFailure(e,t,h))}render(){let{email:e,container:t}=this.props,o="revamped_business_login_page"===t;return(0,W.jsxs)(a.kC,{alignItems:"center",direction:"column",children:[(0,W.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:o?"100%":268,children:[(0,W.jsx)(c.Z,{email:e||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),o&&this.renderTextAndLinkToSignup()]}),(0,W.jsx)(a.xu,{width:o?"100%":320,children:!this.props.hideTermsOfService&&(0,W.jsx)(m.Z,{style:o?"biz-revamp":"normal"})})]})}}function K(e){let t=(0,v.ZP)(),{flushContextEvents:o,logContextEvent:a}=(0,l.v)(),r=(0,b.lO)(),c=(0,s.k6)(),{recaptchaV3Token:d,refreshToken:u}=(0,Z.D)(),h=(0,_.B$)(),{country:p}=(0,I.B)(),g=(0,y.Z)(),[m,f]=(0,i.useState)(""),{viewType:w,viewParameter:P}=(0,n.SU)(),k=(0,x.g)(),{trackConversionUpsell:A}=(0,U.Z)(),{authenticateWithSso:S,verifySsoUser:z}=(0,L.Z)(),E=(0,F.Z)();return(0,W.jsx)(X,{...e,authenticateWithSso:S,desktopCoreLoginContext:h,flushContextEvents:o,history:c,i18n:t,isLineAuthenticationEnabled:"JP"===p,logContextEvent:a,login:g,pageContext:r,password:m,recaptchaV3Token:d,refreshRecaptchaV3Token:u,setPassword:f,trackConversionUpsell:A,trackInteraction:E,unauthDesktopSignupModalPageContext:k,verifySsoUser:z,viewParameter:P,viewType:w})}},363517:(e,t,o)=>{o.d(t,{Z:()=>p});var i=o(667294),s=o(883119);let a=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"];var l=o(200976),n=o(240582),r=o(144326),c=o(240760),d=o(128805),_=o(1006),u=o(896612),h=o(785893);function p({buttonText:e,buttonTextLabel:t,container:o="",disableEmailLogin:p,email:g,emailFieldHasError:m,emailLabel:x,emailText:y,emailValidationError:f,hideEmailField:b,hideFacebookButton:w,hideGoogleButton:P,hidePasswordField:v,isSsoEmail:k,onButtonClick:A,onEmailBlur:S,onEmailChange:z,onPasswordChange:E,password:j,passwordResetLink:C,passwordText:T,passwordValidationError:L,signupForm:Z,suppressFocus:I,component:R}){let M=(0,r.ZP)(),[B,O]=(0,i.useState)(!!Z),[F,U]=(0,i.useState)(null),[N,V]=(0,i.useState)(""),{trackConversionUpsell:D}=(0,u.Z)(),W=f;!W&&(v||p)&&(w||P?!w&&P?W=M.bt("Вашият акаунт е свързан с Facebook – използвайте бутона Facebook за влизане", "Your account is connected to Facebook - use the Facebook button to log in", "Customized desktop login for users with Facebook", undefined, true):w&&!P&&(W=M.bt("Вашият акаунт е свързан с Google – използвайте бутона Google за влизане", "Your account is connected to Google - use the Google button to log in", "Customized desktop login for users with Google", undefined, true)):W=M.bt("Акаунтът ви е свързан към Facebook и Google – използвайте бутоните, за да влезете", "Your account is connected to Facebook and Google - use the buttons to log in", "Customized desktop login for users with FB and Google", undefined, true));let G=v||k,H=e=>{D({element:e,eventType:14689})},$="revamped_business_login_page"===o;return(0,h.jsxs)("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),A(e)},children:[!b&&(0,h.jsx)(s.xu,{marginBottom:$?4:1,marginStart:2,children:(0,h.jsx)(s.__,{htmlFor:"email",children:(0,h.jsx)(s.xv,{size:$?"300":"200",children:M.bt("Имейл", "Email", "registerForm.label.email", undefined, true)})})}),!b&&(0,h.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:$?36:7}},"data-test-id":"emailInputField",children:(0,h.jsx)(n.Z,{accessibilityLabel:x,autoComplete:"email",disabled:!!Z?.registerRestricted,domainError:F?(0,c.nk)(M.bt("Имахте предвид {{ newEmail }}?", "Did you mean {{ newEmail }}?", " - ", undefined, true),{newEmail:(0,h.jsx)(s.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:F},"err_text")}):void 0,focused:!I,hasError:!!f||!!m,id:"email",name:"id",onBlur:()=>{S?.(),Z&&(g?Z.checkEmailExistsWithCompletion({email:g,handleEmailExists:()=>{(0,_.My)("web.unauth.signup.email_entered"),B&&O(!1)},handleEmailNotExist:async()=>{B||O(!0),await Z.checkEmailValidation(g)},handleError:()=>{O(!0)}}):O(!0));let e=e=>{V(e),g===e?U(null):(U(e),(0,_.My)("unauth.email_domain_typo_suggestion.shown"))},t=g&&-1!==g.indexOf("@")?g.split("@"):[];if(g&&g!==N||U(null),g&&t&&g.length<60){if(2===t.length){let o=t[1],i=o&&-1!==o.indexOf(".")?o.split("."):[];i.length>=2&&"gmail"===i[0]&&("com"!==i.slice(1).join(".")?e(t[0]+"@gmail.com"):U(null))}let o=t[1]&&a.includes(t[1])?null:t[1]&&a.map(e=>{let o=(0,d.Z)(e,t[1]);return 2===o||1===o?e:null}).filter(e=>"string"==typeof e);o&&o.length&&e(o[0]?`${t[0]}@${o[0]}`:"")}},onChange:z,placeholder:y,tooltip:W,type:"email",value:g})}),!G&&(0,h.jsx)(s.xu,{marginBottom:$?4:1,marginStart:2,marginTop:$?4:0,children:(0,h.jsx)(s.__,{htmlFor:"password",children:(0,h.jsx)(s.xv,{size:$?"300":"200",children:M.bt("Парола", "Password", "registerForm.label.password", undefined, true)})})}),!G&&(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(s.xu,{"data-test-id":"passwordInputField",children:(0,h.jsx)(n.Z,{autoComplete:"new-password",disabled:!!p||!!Z?.registerRestricted,focused:!!b&&!I,hasError:!!L,id:"password",name:"password",onChange:E,onFocus:()=>{(0,_.NC)("focus_password")},placeholder:T,tooltip:L,type:"password",value:j})}),(0,h.jsx)(s.xu,{"data-test-id":"password-reset-button",children:C??null})]}),window.recaptchaCount&&window.recaptchaCount>0?(0,h.jsx)("div",{className:"g-recaptcha",id:`recaptcha_placeholder_${window.recaptchaCount}`,style:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"}}):null,Z&&!k&&(0,h.jsx)(l.Z,{...Z.birthdayProps}),Z?.registerRestricted&&(0,h.jsx)(s.xu,{marginTop:2,children:(0,h.jsx)(s.xv,{color:"error",size:"100",children:M.bt("Съжаляваме, в момента не отговаряте на условията да се регистрирате в Pinterest.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Signup.AgeStep.underageError", undefined, true)})}),!v&&(0,h.jsx)(s.xu,{"data-test-id":"registerFormSubmitButton",marginTop:$?7:2,children:(0,h.jsx)(s.zx,{accessibilityLabel:t,color:"red",disabled:p||!!Z?.registerRestricted,fullWidth:!0,onClick:()=>{H(14214===R?12019:30),B?((0,_.NC)("press_signup_continue"),(0,_.Rp)({event:"start",provider:"email"})):((0,_.EX)({event:"start",provider:"email"}),(0,_.NC)("press_login_continue"))},text:e,type:"submit"})})]})}},200976:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(667294),s=o(883119),a=o(333561),l=o(144326),n=o(1006),r=o(785893);function c({birthday:e,birthdayValidationError:t,disabled:o,setBirthdayValidationError:c,onBirthdayChange:d}){let _=(0,l.ZP)();return(0,i.useEffect)(()=>{(0,n.My)("dweb.signup_age_step",{type:"email",format:"birthday"})},[]),(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(s.xu,{marginBottom:1,marginStart:2,marginTop:2,children:(0,r.jsxs)(s.kC,{children:[(0,r.jsx)(s.xu,{marginEnd:2,children:(0,r.jsx)(s.__,{htmlFor:"birthdate",children:(0,r.jsx)(s.xv,{size:"200",children:_.bt("Дата на раждане", "Birthdate", "registerForm.label.birthdate", undefined, true)})})}),(0,r.jsx)(s.u,{idealDirection:"right",text:_.bt("За да поддържаме Pinterest безопасно място, датата ви на раждане вече е задължителна. Датата ви на раждане също ни помага да осигуряваме повече персонализирани препоръки и подходящи реклами. Няма да споделяме тази информация без ваше разрешение и тя няма да е видима във вашия профил.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "registerForm.label.birthdate.tooltipDescription", undefined, true),zIndex:a.C,children:(0,r.jsx)(s.JO,{accessibilityLabel:_.bt("Пояснение", "Tooltip", "registerForm.label.birthdate.tooltip.access", undefined, true),icon:"info-circle"})})]})}),(0,r.jsx)(s.xu,{"data-test-id":"signup-birthdate-field",children:(0,r.jsx)(s.nv,{autoComplete:"bday",disabled:o,errorMessage:t,id:"birthdate",onChange:e=>{d(e),c("")},size:"lg",type:"date",value:e||""})})]})}},899153:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),s=o(758339),a=o(144326),l=o(785893);function n({type:e,onDismiss:t}){let o=(0,a.ZP)(),n="facebook"===e?o.bt("Oops! Facebook isn't available", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, false):o.bt("Oops! Google isn't available", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, false),r="facebook"===e?o.bt("Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, false):o.bt("Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, false);return(0,l.jsx)(s.ZP,{accessibilityModalLabel:n,footer:(0,l.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(i.xu,{"data-test-id":"SocialAuthDisabledModal",paddingX:1,children:(0,l.jsx)(i.zx,{color:"red",onClick:t,size:"md",text:o.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, false)})})}),heading:n,isOpen:!0,onDismiss:t,children:(0,l.jsx)(i.xu,{paddingX:5,children:(0,l.jsx)(i.xv,{align:"center",children:r})})})}},555086:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(883119),s=o(144326),a=o(240760),l=o(297728),n=o(635258),r=o(785893);function c({style:e="normal",isSignupStep:t=!1}){let o=(0,s.ZP)(),{checkExperiment:c}=(0,l.F)(),d=(t,o,s)=>(0,r.jsx)(i.xu,{"data-test-id":t,display:"inlineBlock",children:(0,r.jsx)(i.xv,{color:"biz-revamp"===e?"subtle":"default",size:"100",weight:"bold",children:(0,r.jsx)(i.rU,{display:"inlineBlock",href:s,target:"blank",underline:"hover",children:o})})},t),_=d("tos",o.bt("Условия на услугата", "Terms of Service", "termOfService.link.tos", undefined, true),n.U5h),u=d("privacy",o.bt("Политика за поверителност", "Privacy Policy", "termOfService.link.privacyPolicy", undefined, true),"/_/_/policy/privacy-policy/"),h=d("noticeAtCollection",o.bt("Известие при събиране", "Notice at collection", "termOfService.link.noticeAtCollection", undefined, true),n.cvl),p=d("deleteYourAccount",o.bt("изтриване на вашия акаунт", "delete your account", "termOfService.link.deleteYourAccount", undefined, true),n.QA0),g=t&&c("fdbr_teen_compliance").anyEnabled;return(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity .2s linear"}},"data-test-id":"terms-of-service",marginTop:3,children:(0,r.jsx)(i.xv,{align:"center",color:"subtle",size:"100",children:g?(0,r.jsx)(()=>(0,a.nk)(o.bt("Продължавайки, вие се съгласявате с {{ tos }} на Pinterest и заявявате, че сте прочели нашата {{ privacyPolicy }}. Ако сте потребител под 18 години във Флорида, можете също да се включите в обработката на личната си информация. За да се откажете, можете да {{ deleteYourAccount }}.", "By continuing, you agree to Pinterest's {{ tos }} and acknowledge you've read our {{ privacyPolicy }}. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can {{ deleteYourAccount }}.", "termOfService.text.floridaCompliance", undefined, true),{tos:_,privacyPolicy:u,deleteYourAccount:p}),{}):(0,r.jsx)(()=>(0,a.nk)(o.bt("Продължавайки, вие се съгласявате с {{ tos }} на Pinterest и заявявате, че сте прочели нашата {{ privacyPolicy }}. {{ noticeAtCollection }}.", "By continuing, you agree to Pinterest's {{ tos }} and acknowledge you've read our {{ privacyPolicy }}. {{ noticeAtCollection }}.", "termOfService.text.default", undefined, true),{tos:_,privacyPolicy:u,noticeAtCollection:h}),{})})})}},240582:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(667294),s=o(883119),a=o(785893);function l({accessibilityLabel:e,autoComplete:t="on",disabled:o,domainError:l,focused:n,hasError:r,helperText:c,id:d,name:_,onBlur:u,onChange:h,onFocus:p,placeholder:g,tooltip:m,type:x,useExperimentalTextfield:y,value:f}){let b=(0,i.useRef)(n),w=(0,i.useRef)(null),P=(0,i.useRef)(r);return(0,i.useEffect)(()=>{b.current&&w.current?.focus()},[]),(0,i.useEffect)(()=>{!1===P.current&&r&&w.current?.focus(),P.current=r},[r]),(0,a.jsxs)("fieldset",{style:{position:"relative"},children:[(0,a.jsx)(s.xu,{display:"visuallyHidden",children:(0,a.jsx)(s.__,{htmlFor:d,children:e??g??""})}),(0,a.jsx)(s.nv,{ref:w,autoComplete:y?void 0:t,disabled:o,errorMessage:m?y&&l||m:"",helperText:y?void 0:c,id:d,name:_,onBlur:u,onChange:({event:e})=>{h(e)},onFocus:p,placeholder:g,size:y?void 0:"lg",type:x,value:f||""})]})}},151143:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(667294),s=o(883119),a=o(785893);function l({message:e,anchor:t}){let[o,l]=(0,i.useState)(!0);return o?(0,a.jsx)(s.Li,{anchor:t,idealDirection:"right",onDismiss:()=>l(!1),children:(0,a.jsx)(s.xu,{padding:3,children:(0,a.jsx)(s.xv,{color:"light",size:"200",weight:"bold",children:e})})}):null}},531711:(e,t,o)=>{o.d(t,{Z:()=>h});var i=o(667294),s=o(883119),a=o(771385),l=o(914896),n=o(790014),r=o(476198),c=o(144326),d=o(76367),_=o(1006),u=o(785893);let h=({birthday:e,onEditBirthday:t,onConfirmBirthday:o=()=>{}})=>{let h=(0,c.ZP)(),[p,g]=(0,i.useState)(!1);return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(s.xu,{"data-test-id":"underageconfirmation-modal",padding:8,children:(0,u.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,u.jsx)(s.xu,{"data-test-id":"underageconfirmation-title",marginBottom:5,width:420,children:(0,u.jsx)(s.X6,{align:"center",size:"600",children:(0,a.ew)(e||"",h)})}),(0,u.jsx)(s.xu,{marginBottom:10,maxWidth:540,children:(0,u.jsx)(s.xv,{align:"center",children:(0,a.Pe)(h)})}),(0,u.jsx)(s.xu,{children:(0,u.jsxs)(s.kC,{children:[(0,u.jsx)(s.xu,{marginEnd:2,children:(0,u.jsx)(s.zx,{onClick:()=>{(0,_.My)("dweb.underageconfirmation.edit"),l.t8(n.It,"0",(0,l.kZ)(n.It)),t()},text:h.bt("Редактиране", "Edit", "signup.underageconfirmation.edit", undefined, true)})}),(0,u.jsx)(s.zx,{color:"red",onClick:()=>{g(!0),(0,_.My)("dweb.underageconfirmation.confirm"),o(),setTimeout(()=>{d.ZP.handleRedirect("/")},4e3)},text:h.bt("Потвърждаване", "Confirm", "signup.underageconfirmation.confirm", undefined, true),type:"submit"})]})})]})}),p&&(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,u.jsx)(r.ZP,{duration:3500,onHide:()=>g(!p),text:h.bt("Съжаляваме, в момента не отговаряте на условията да се регистрирате в Pinterest.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.underageconfirmation.error", undefined, true)})})]})}},806369:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(705492);let s=e=>({type:"facebook",first_name:e.first_name,last_name:e.last_name,email:e.email,gender:e.gender,image_url:e.picture&&!e.picture.data.is_silhouette?e.picture.data.url:void 0,facebook_id:e.id,facebook_token:e.access_token,birthday:e.birthday?(0,i.Z)(e.birthday):void 0})},214694:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(400416);let s=async()=>{try{let e=await (0,i.Z)({url:"/v3/users/me/"}),t=e.resource_response.data?.email||(e.resource_response.client_context||Object.freeze({})).user?.email;"undefined"!=typeof window&&window.pintrk&&window.pintrk("track","custom",{lead_type:"Pinterest Login",em:t})}catch(e){}}},35652:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(719174);let s=e=>"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?i.Z.LIMITED:i.Z.DEFAULT}},993640:(e,t,o)=>{o.d(t,{Mi:()=>i,lO:()=>s});let{Provider:i,useMaybeHook:s}=(0,o(498490).Z)("pageContext")},107866:(e,t,o)=>{o.d(t,{Z:()=>i});let i=e=>{let[t,o]=[e?.width||580,e?.height||400],[i,s]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${o},left=${Math.round((i-t)/2)},top=${s>o?Math.round((s-o)/2):0}`}},784714:(e,t,o)=>{o.d(t,{Z:()=>i});function i(e){e&&e.focus()}},898043:(e,t,o)=>{o.d(t,{PP:()=>i,Y5:()=>s,YO:()=>r,ex:()=>n,j7:()=>l,kT:()=>a,yM:()=>c});let i=o(876594).wvI,s="#f0f0f0",a="#efefef",l="#e2e2e2",n="rgba(0, 0, 0, 0.06)",r="#ad081b",c="#4a8ad4"},426003:(e,t,o)=>{o.d(t,{Z:()=>s});let i=e=>e.split("").sort(()=>.5-Math.random()).join("");function s(e,t){let o=e.split("@")[0],s="";return(s=(s=o.includes(".")?o.replace("."," "):o.includes("_")?o.replace("_"," "):o).replace(/[0-9]/g,""),"GB"===t)?"User_"+i(s):s=s.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}},26473:(e,t,o)=>{o.d(t,{Z:()=>i});function i({embedSrc:e,embedType:t,imagesUrls:o,preferredResolution:i,excludeOriginals:s}){if(!e&&!t&&!o)return"";if("gif"===t)return e||"";if(!o)return"";if(i){let e="474x"===i&&o["474x"]||"236x"===i&&o["236x"]||o["736x"];if(e)return e}let a=Object.keys(o).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:o[t]};return{...e,[i]:o[t]}}catch(t){return e}},{}),l=Object.keys(a);return s&&"orig"===l[l.length-1]&&l.pop(),a[l.pop()]||""}},588172:(e,t,o)=>{o.d(t,{Z:()=>i});let i={STARTED:1,FINISHED:2}},988700:(e,t,o)=>{o.d(t,{i:()=>n});var i=o(449112),s=o(720398),a=o(566344);let l=e=>`/signup/sso-business-account?email=${e}`,n=(e,t,o)=>{let n=window.location.origin,r=l(e);o&&(r=(0,s.Z)(r,o)),n===a.C0?t.push(r):(0,i.Z)(`${a.C0}${r}`)}},780462:(e,t,o)=>{o.d(t,{Z:()=>u});var i=o(883119),s=o(144326),a=o(240760),l=o(267005),n=o(785893);function r({apiErrorCode:e,errorMessage:t,onClickPasswordReset:o}){let r=(0,s.ZP)(),c=({text:e})=>(0,n.jsx)(i.xu,{display:"inlineBlock",children:(0,n.jsx)(i.iP,{onTap:o,children:(0,n.jsx)(i.xv,{color:"error",size:"200",weight:"bold",children:e},"err_text")})}),d=(e=>{switch(e){case l.yV:case l.$j:return(0,a.nk)(r.bt("Забелязахме странна дейност в акаунта ви. {{ resetPasswordLink }} или влезте с Facebook или Google, за да влезете отново в акаунта си.", "We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.", "Error message when user is soft banned", undefined, true),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("Нулиране на паролата ви", "Reset your password", "Link text for password reset", undefined, true)})});case l.iK:return(0,a.nk)(r.bt("Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}", "Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}", " - ", undefined, false),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("set a password.", "set a password.", "Link text to set password for user with account with only google auth", undefined, false)})});case l.nY:return(0,a.nk)(r.bt("Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}", "Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}", " - ", undefined, false),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("set a password.", "set a password.", "Link text to set password for user with account with only facebook auth", undefined, false)})});case l.nf:return(0,a.nk)(r.bt("Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you’ll need to {{ resetPasswordLink }}", "Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you’ll need to {{ resetPasswordLink }}", "unauth.web.emailLogin", undefined, false),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("задаване на парола.", "set a password.", "Link text to set password for user with account with only apple auth", undefined, true)})});case l.oP:return(0,a.nk)(r.bt("Паролата, която въведохте, е неправилна. Опитайте отново или {{ resetPasswordLink }}.", "The password you entered is incorrect. Try again or {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("Нулиране на паролата ви", "Reset your password", "Link text for password reset", undefined, true)})});default:return[t]}})(e);return(0,n.jsx)(i.xu,{"data-test-id":"touchableErrorMessage",children:d.map((e,t)=>(0,n.jsx)(i.xv,{color:"error",inline:!0,size:"200",children:e},`err_message_${t}`))})}var c=o(343544),d=o(1006);let _=[...l.ZP,c.Ej,l.oP,l.nf].filter(e=>e!==l.RL&&e!==l.an);function u({error:e,onClickPasswordReset:t,source:o}){let i=e.api_error_code;(e.http_status||e.httpStatus)===c.Ej&&(i=c.Ej);let s=i&&_.includes(i)?(0,n.jsx)(r,{apiErrorCode:i,errorMessage:e.message??"",onClickPasswordReset:t}):e.message;if(s)switch(i){case l.oP:case l.RL:return{passwordValidationError:s};case l.nY:return{facebookValidationError:s};case l.iK:return{googleValidationError:s};case l.hU:return{emailValidationError:s};case l._K:return{passwordValidationError:s};default:return{emailValidationError:s}}else(0,d.My)(`unauth.login.error.SERVER_ERROR.unknown.${String(i)}.${o}`);return null}},371041:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(400416),s=o(1006),a=o(868808);let l=e=>{let{hostname:t}=(0,a.Qc)(e);return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com")||t.endsWith(".pinterdev.com"))},n=({origin:e,data:t})=>l(e)?String(t):null;function r(){let e="undefined"!=typeof window;return{verifySsoUser:async e=>{try{let{authorization_uri:t,existing_user:o,existing_user_is_sso:s,is_sso:a,redirect_uri:l,exchange_code_to_token_info_url:n}=(await (0,i.Z)({url:"/v3/sso/info/",method:"POST",data:{email:e}})).resource_response.data;return{authorizationUri:t,exchangeCodeToTokenUrl:n,existingUser:o,existingUserIsSso:s,isSso:a,redirectUri:l}}catch(e){return(0,s.My)("coreSso.verifyUser.error",{code:e.api_error_code,message:e.message,http_status:e.http_status}),{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null}}},authenticateWithSso:({callbacks:t,exchangeCodeToTokenUrl:o,isLogin:s,modalUrl:l})=>{let r;if(!e){t.error?.({api_error_code:0,message:"Window is undefined"});return}let c=async e=>{if(!e.isTrusted)return;let l=n(e),d=(0,a.mB)(l);if(d.code){if(s){t.success({authCode:d.code});return}try{let{sso_id:e,sso_id_token:s,sso_email:a,sso_user_name:l}=(await (0,i.Z)({url:o,method:"POST",data:{code:d.code,state:d.state}})).resource_response.data;e&&s&&a&&l?t.success({ssoId:e,ssoIdToken:s,ssoEmail:a,ssoUserName:l}):t.error?.({api_error_code:0,message:"No tokens returned"})}catch(e){t.error?.(e)}finally{r&&!r.closed&&r.close(),window.removeEventListener("message",c)}}};window.addEventListener("message",c),r=window.open(l,"_blank","width=600,height=600")}}}},66401:(e,t,o)=>{o.d(t,{Z:()=>p});var i=o(667294),s=o(883119),a=o(573706),l=o(476198),n=o(144326),r=o(240760),c=o(644182),d=o(410150),_=o(785893);let u={terms:"terms",collectionUsePersonalInfo:"collectionUsePersonalInfo",thirdPartyProvisionPersonalInfo:"thirdPartyProvisionPersonalInfo",overseasTransferPersonalInfo:"overseasTransferPersonalInfo"},h="optionalMarketingConsent";function p({isBusiness:e,isRegistering:t,onBackButtonClick:o,onSubmitHandler:p,removeSpacing:g,validationError:m}){let x=(0,n.ZP)(),y=(0,d.HG)(),{logContextEvent:f}=(0,a.v)(),[b,w]=(0,i.useState)([]),[P,v]=(0,i.useState)(!1),k=[{name:x.bt("Задължително", "Required", "consentStep.sections.required.title", undefined, true),description:x.bt("Приемам следното:", "I consent to the following:", "consentStep.sections.required.description", undefined, true),checkboxes:[{key:u.terms,text:e?x.bt("Бизнес условия на услугата.", "Business Terms of Service.", "consentStep.sections.required.checkbox.termOfService.text.business", undefined, true):x.bt("Условия на услугата.", "Terms of Service.", "consentStep.sections.required.checkbox.termOfService.text", undefined, true),learnMore:{text:x.bt("Научете повече", "Learn more", "consentStep.sections.required.checkbox.termOfService.learnMore", undefined, true),url:e?"https://business.pinterest.com/business-terms-of-service":"https://policy.pinterest.com/terms-of-service"}},{key:u.collectionUsePersonalInfo,text:x.bt("Събиране и използване на лична информация.", "Collection and Use of Personal Information.", "consentStep.sections.required.checkbox.collectionUsePersonalInfo.text", undefined, true),learnMore:{text:x.bt("Научете повече", "Learn more", "consentStep.sections.required.checkbox.collectionUsePersonalInfo.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-1-collection-and-use-of-personal-information"}},{key:u.thirdPartyProvisionPersonalInfo,text:x.bt("Предоставяне на лична информация на трета страна.", "Third Party Provision of Personal Information.", "consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.text", undefined, true),learnMore:{text:x.bt("Научете повече", "Learn more", "consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-2-third-party-provision-of-personal-information"}},{key:u.overseasTransferPersonalInfo,text:x.bt("Прехвърляне на лична информация в чужбина.", "Overseas Transfer of Personal Information.", "consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.text", undefined, true),learnMore:{text:x.bt("Научете повече", "Learn more", "consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-3-overseas-transfer-of-personal-information"}}]},{name:x.bt("По избор", "Optional", "consentStep.sections.optional.title", undefined, true),checkboxes:[{key:h,text:x.bt("Като поставя отметка, се съгласявам с получаването на маркетинг информация и използването на лична информация за изпращане на маркетинг съобщения. Може да промените това по всяко време, като отворите настройките.", "By checking, I consent to the receipt of marketing information and use of personal information for sending marketing communications. You may change this at any time by visiting your settings.", "consentStep.sections.required.checkbox.optionalMarketingConsent.text", undefined, true),learnMore:{text:x.bt("Научете повече", "Learn more", "consentStep.sections.required.checkbox.optionalMarketingConsent.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-4-receipt-of-marketing-information-and-use-of-personal-information-for-sending-marketing-information"}}]}],A=k.flatMap(e=>e.checkboxes.map(e=>e.key));(0,i.useEffect)(()=>{f({event_type:13,view_type:10,view_parameter:4038}),m&&v(!0)},[m]);let S=()=>Object.values(u).every(e=>b.includes(e)),z=e=>e.learnMore?(0,r.nk)(`${e.text} {{ learnMoreLink }}`,{learnMoreLink:(0,_.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(s.rU,{display:"inline",href:e.learnMore.url,target:"blank",underline:"always",children:e.learnMore.text})},`${e.key}-learnMore`)}):e.text,E=({checked:e,id:t})=>{let o=[];"agreeToAll"===t&&e?o=["agreeToAll",...A]:"agreeToAll"===t||(o=e?[...b,t]:b.filter(e=>e!==t),!e&&o.includes("agreeToAll")?o=o.filter(e=>"agreeToAll"!==e):o.length!==A.length||o.includes("agreeToAll")||(o=["agreeToAll",...o])),w(o)},j=(0,_.jsx)(s.zx,{color:"red",dataTestId:"consent-step-next-button",disabled:!S(),fullWidth:!0,onClick:()=>{S()&&(f({element:96,event_type:y?101:102,view_type:10,view_parameter:4038}),p({kr_privacy_consent_opt_in:!0,marketing_notifs_opt_out:!b.includes(h)}))},size:"lg",text:x.bt("Напред", "Next", "consentStep.button.next", undefined, true),type:"button"}),{paddingY:C,paddingX:T}=g?{paddingY:0,paddingX:0}:{paddingY:y?10:8,paddingX:y?10:0};return(0,_.jsxs)(s.xu,{paddingX:T,paddingY:C,children:[t&&(0,_.jsx)(c.Z,{rounding:8}),(0,_.jsxs)(s.xu,{marginBottom:9,paddingX:8,children:[(0,_.jsx)(s.xu,{marginBottom:4,children:(0,_.jsxs)(s.kC,{direction:"column",gap:{column:4,row:0},children:[(0,_.jsx)(s.kC,{justifyContent:"center",children:(0,_.jsx)(s.X6,{accessibilityLevel:2,size:"400",children:x.bt("Съгласия", "Consents", "consentStep.title", undefined, true)})}),(0,_.jsx)(s.xv,{color:"subtle",size:"300",children:x.bt("Преди да можете да създадете акаунт, ще трябва да приемете задължителните условия по-долу.", "Before you can create an account, you'll need to agree to the required terms below.", "consentStep.description", undefined, true)})]})}),(0,_.jsx)(s.xu,{children:(0,_.jsxs)(s.kC,{direction:"column",gap:{column:4,row:0},justifyContent:"start",children:[(0,_.jsx)(s.xu,{marginBottom:4,children:(0,_.jsx)(s.XZ,{checked:b.includes("agreeToAll"),id:"agreeToAll",label:x.bt("Приемане на всички", "Agree to all", "consentStep.checkbox.agreeToAll.text", undefined, true),name:"agreeToAll",onChange:({checked:e})=>E({checked:e,id:"agreeToAll"})})}),(0,_.jsx)(s.kC,{direction:"column",gap:{column:6,row:0},children:k.map(e=>(0,_.jsx)(s.pg,{legend:e.name,legendDisplay:"hidden",children:(0,_.jsxs)(s.kC,{direction:"column",gap:{column:2,row:0},children:[(0,_.jsxs)(s.xu,{children:[(0,_.jsx)(s.xv,{align:"start",color:"subtle",size:"100",children:e.name}),e.description?(0,_.jsx)(s.xu,{marginBottom:2,marginTop:2,children:(0,_.jsx)(s.xv,{align:"start",size:"300",children:e.description})}):null]}),e.checkboxes.map((e,t)=>(0,_.jsx)(s.xu,{marginTop:0===t?0:2,children:(0,_.jsxs)(s.kC,{gap:{column:0,row:2},children:[(0,_.jsx)(s.XZ,{checked:b.includes(e.key),id:e.key,name:e.key,onChange:({checked:t})=>E({checked:t,id:e.key})}),(0,_.jsx)(s.__,{htmlFor:e.key,children:(0,_.jsx)(s.xv,{children:z(e)})})]})},e.key))]})},e.name))})]})})]}),y?(0,_.jsxs)(s.kC,{gap:{column:0,row:2},justifyContent:"end",children:[(0,_.jsx)(s.xu,{width:117,children:(0,_.jsx)(s.zx,{dataTestId:"consent-step-back-button",fullWidth:!0,onClick:()=>{o&&o()},size:"lg",text:x.bt("Назад", "Back", "consentStep.buttons.back", undefined, true),type:"button"})}),(0,_.jsx)(s.xu,{width:94,children:j})]}):j,P&&(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,_.jsx)(l.ZP,{duration:3500,onHide:()=>v(!P),text:m})})]})}},907511:(e,t,o)=>{o.d(t,{Z:()=>i});let i=(e,t)=>{let o=new URL(e,"https://pinterest.com");return o.search=new URLSearchParams(t).toString(),o.toString().substring(o.origin.length)}},411399:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(144326),s=o(240760),a=o(297728);let l=e=>async()=>{let{NewPassword:t}=await o.e(42925).then(o.bind(o,42925));return t(e)};var n=o(404335),r=o(26456);let c=()=>{let e=(0,i.ZP)(),{checkExperiment:t}=(0,a.F)(),o=6;t("web_increased_min_password_length").anyEnabled&&(o=8);let c=(0,s.Wc)(e.bt("Паролата ви е твърде кратка! Необходими са ви {{minPasswordLength}}+ знака.", "Your password is too short! You need {{minPasswordLength}}+ characters.", "passwordValidation.minLength", undefined, true),{minPasswordLength:o.toString()}),d=e.bt("Направете така, че потребителското ви име и парола да са различни.", "Please make your username and password different.", "passwordValidation.passwordEqualsToUsername", undefined, true),_=e.bt("Създайте по-силна парола.", "Please make a stronger password.", "passwordValidation.strongerPassword", undefined, true),u=e.bt("Използвайте само комбинация от букви, цифри и специални знаци (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "passwordValidation.onlyASCII", undefined, true);return({useOldPasswordValidation:e,username:t})=>{let i=l;return e&&(i=n.Z),[(0,r.oR)({message:u}),(0,r.aH)({message:c}),i({shortPassStr:c,samePasswordStr:d,blackPassStr:_,minPasswordLength:o,username:t})]}}},404335:(e,t,o)=>{o.d(t,{Z:()=>i});let i=e=>async()=>{let{Password:t}=await o.e(42925).then(o.bind(o,42925));return t(e)}},615336:(e,t,o)=>{async function i(e,t){let o;for(let i of t){let t=i(e);if(t instanceof Promise){let i=(await t)(e);if(i.errors.length>0){o=i.errors[0];break}}else if(t.errors.length>0){o=t.errors[0];break}}return o}o.d(t,{U:()=>i,Z:()=>s});let s=(e,t)=>{let o;return t.some(t=>{let i=t(e);return i.errors.length>0&&(o=i.errors[0],!0)}),o}},765955:(e,t,o)=>{o.d(t,{w:()=>r,A:()=>c});var i=o(144326),s=o(297728),a=o(383399);let l=new Map([["dweb_unauth_header_signup_title",new Map([["enabled_3",(e,t)=>t.bt("Намерете следващата си страхотна идея", "Find your next great idea", "dweb_default_header_signup_title.find_your_next_great_idea", undefined, true)],["enabled_4",(e,t)=>t.bt("Открийте идеи, които са подходящи за вас", "Discover ideas just for you", "dweb_default_header_signup_title.discover_ideas_just_for_you", undefined, true)]])],["mweb_login_app_upsell_title",new Map([["enabled_1",(e,t)=>t.bt("Готови сте!", "You're ready to go!", "mweb.nux.app_value_prop", undefined, true)],["enabled_2",(e,t)=>t.bt("Ура! Да започваме!", "Hooray! Let's Go!", "mweb.nux.app_value_prop", undefined, true)]])],["mweb_limited_login_app_upsell_title",new Map([["enabled_variant_1",(e,t)=>{let o=t.bt("Добре дошли отново, {{ username }}!", "Welcome back, {{ username }}!", "welcome_back_username", undefined, true);return e?o.replace("{{ username }}",e):o.replace(", {{ username }}","")}]])]]),n=new Map([["mweb_nux_app_upsell_title",new Map([["enabled_1",(e,t)=>({title:e?(t.bt("Имате страхотен вкус, {{ username }}! Изтеглете приложението, за да видите още", "You have great taste, {{ username }}! Get the app to see more", "mweb.nux.app_value_prop", undefined, true)).replace("{{ username }}",e):t.bt("Имате страхотен вкус! Изтеглете приложението, за да видите още", "You have great taste! Get the app to see more", "mweb.nux.app_value_prop", undefined, true),subtitle:""})],["enabled_2",(e,t)=>({title:e?(t.bt("Имате страхотен вкус, {{ username }}!", "You have great taste, {{ username }}!", "mweb.nux.app_value_prop", undefined, true)).replace("{{ username }}",e):t.bt("Имате страхотен вкус!", "You have great taste!", "mweb.nux.app_value_prop", undefined, true),subtitle:t.bt("Изтеглете приложението, за да видите още", "Get the app to see more", "mweb.nux.app_value_prop_subtitle", undefined, true)})]])],["mweb_unauth_max_saves_login_upsell",new Map([["enabled_1",(e,t)=>({title:t.bt("Регистрирайте се, за да продължите да запазвате и да осъществявате достъп до вашите идеи", "Sign up to continue saving and access your ideas", "mweb.unauth.signup_modal.multi_save_value_prop.v0", undefined, true),subtitle:""})],["enabled_2",(e,t)=>({title:"",subtitle:t.bt("Осъществете достъп до запазените си идеи и открийте още повече", "Access your saved ideas and discover even more", "mweb.unauth.signup_modal.multi_save_value_prop_subheader.v0", undefined, true)})],["enabled_3",(e,t)=>({title:t.bt("Осъществете достъп до запазените си идеи и открийте още повече", "Access your saved ideas and discover even more", "mweb.unauth.signup_modal.access_saved_ideas.v0", undefined, true),subtitle:""})],["enabled_4",(e,t)=>({title:"",subtitle:t.bt("Вдъхнете живот на идеите си", "Bring your ideas to life", "mweb.unauth.signup_modal.bring_ideas_to_life.v0", undefined, true)})],["enabled_5",(e,t)=>({title:t.bt("Вдъхнете живот на идеите си", "Bring your ideas to life", "mweb.unauth.signup_modal.bring_ideas_to_life_subheader.v0", undefined, true),subtitle:""})],["enabled_6",(e,t)=>({title:"",subtitle:t.bt("Регистрирайте се, за да продължите да запазвате и да осъществявате достъп до вашите идеи", "Sign up to continue saving and access your ideas", "mweb.unauth.signup_modal.multi_save_value_prop.v0", undefined, true)})]])]]);function r(e){let t,o;let{checkExperiment:n}=(0,s.F)(),r=(0,a.Z)(),c=(0,i.ZP)();if(!e)return;switch(e){case"FullPageSignup":if(!(t=n("dweb_unauth_header_signup_title")).anyEnabled)return;o=l.get("dweb_unauth_header_signup_title");break;case"MobileLoginPage":if(!(t=n("mweb_login_app_upsell_title")).anyEnabled)return;o=l.get("mweb_login_app_upsell_title");break;case"LimitedLoginAppUpsell":if(!(t=n("mweb_limited_login_app_upsell_title")).anyEnabled)return;o=l.get("mweb_limited_login_app_upsell_title");break;default:return}let d=r.isAuth?r.firstName:null;if(!o)return;let _=o.get(t.group);if("function"!=typeof _)return;let u=_(d,c);if("string"==typeof u)return u}function c(e){let t,o;let{checkExperiment:l}=(0,s.F)(),r=(0,a.Z)(),c=(0,i.ZP)();if(!e)return;switch(e){case"UnauthHybridBannerSignupModal":if(!(t=l("dweb_unauth_gen_ai_bottom_right_upsell_experiment")).anyEnabled)return;o=n.get("dweb_unauth_gen_ai_bottom_right_upsell_experiment");break;case"MobileSignupModalContent":if(!(t=l("mweb_unauth_max_saves_login_upsell")).anyEnabled)return;o=n.get("mweb_unauth_max_saves_login_upsell");break;case"AppInstallStep":if(!(t=l("mweb_nux_app_upsell_title")).anyEnabled)return;o=n.get("mweb_nux_app_upsell_title");break;default:return}let d=r.isAuth?r.firstName:null;if(!o)return;let _=o.get(t.group);if("function"!=typeof _)return;let u=_(d,c);if("object"==typeof u&&null!==u)return{title:u.title,subtitle:u.subtitle}}},746613:e=>{e.exports="https://s.pinimg.com/webapp/birthday-08b9de02.png"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/95464.bg_BG-2cee32981a42b0ac.mjs.map